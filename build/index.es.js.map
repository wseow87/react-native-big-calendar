{"version":3,"file":"index.es.js","sources":["../src/theme/defaultTheme.ts","../src/theme/ThemeContext.tsx","../src/utils/object.ts","../src/utils/react.ts","../src/commonStyles.ts","../src/utils/datetime.ts","../src/hooks/useNow.ts","../src/hooks/useCalendarTouchableOpacityProps.ts","../src/components/DefaultCalendarEventRenderer.tsx","../src/components/CalendarEvent.tsx","../src/components/HourGuideCell.tsx","../src/components/HourGuideColumn.tsx","../src/components/CalendarBody.tsx","../src/components/CalendarEventForMonthView.tsx","../src/components/CalendarBodyForMonthView.tsx","../src/components/CalendarHeader.tsx","../src/components/CalendarHeaderForMonthView.tsx","../src/components/Schedule.tsx","../src/components/CalendarContainer.tsx","../src/components/Calendar.tsx","../src/index.ts"],"sourcesContent":["import type { ThemeInterface } from './ThemeInterface'\n\nexport const defaultTheme: ThemeInterface = {\n  isRTL: false,\n  palette: {\n    primary: {\n      main: 'rgb(66, 133, 244)',\n      contrastText: '#fff',\n    },\n    nowIndicator: 'red',\n    gray: {\n      // 50: '#fafafa',\n      100: '#f5f5f5',\n      200: '#eeeeee',\n      300: '#e0e0e0',\n      // 400: '#bdbdbd',\n      500: '#9e9e9e',\n      // 600: '#757575',\n      // 700: '#616161',\n      800: '#424242',\n      // 900: '#212121',\n    },\n    moreLabel: '#000000',\n  },\n  eventCellOverlappings: [\n    { main: '#E26245', contrastText: '#fff' }, // orange\n    { main: '#4AC001', contrastText: '#fff' }, // green\n    { main: '#5934C7', contrastText: '#fff' }, // purple\n  ],\n  typography: {\n    xs: {\n      fontSize: 10,\n    },\n    sm: {\n      fontSize: 12,\n    },\n    xl: {\n      fontSize: 22,\n    },\n    moreLabel: {\n      fontSize: 11,\n      fontWeight: 'bold',\n    },\n  },\n}\n","import { createContext, useContext } from 'react'\n\nimport { defaultTheme } from './defaultTheme'\n\nexport const ThemeContext = createContext(defaultTheme)\n\nexport const useTheme = () => {\n  const customTheme = useContext(ThemeContext)\n  if (!customTheme) {\n    return defaultTheme\n  }\n  return customTheme\n}\n","import type { TextStyle, ViewStyle } from 'react-native'\n\nimport type { DeepPartial } from './utility-types'\n\nexport function objHasContent(obj: ViewStyle | TextStyle): boolean {\n  return !!Object.keys(obj).length\n}\n\nexport function stringHasContent(string: string): boolean {\n  return !!string.length\n}\n\n// biome-ignore lint/suspicious/noExplicitAny: expected\nfunction isObject(item: any): item is object {\n  return item && typeof item === 'object' && !Array.isArray(item)\n}\n\nfunction keys<T extends object>(obj: T): (keyof T)[] {\n  return Object.keys(obj) as (keyof T)[]\n}\n\nexport function deepMerge<T extends object>(target: T, source: DeepPartial<T>): T {\n  const output: T = Object.assign({}, target)\n  if (isObject(target) && isObject(source)) {\n    for (const key of keys(source)) {\n      if (isObject(source[key])) {\n        if (!(key in target)) Object.assign(output, { [key]: source[key] })\n        // @ts-ignore\n        else output[key] = deepMerge(target[key], source[key])\n      } else {\n        Object.assign(output, { [key]: source[key] })\n      }\n    }\n  }\n  return output\n}\n","import React from 'react'\n\nexport const typedMemo: <T>(c: T) => T = React.memo\n","import { Platform, StyleSheet } from 'react-native'\n\nexport const MIN_HEIGHT = 1200\nexport const HOUR_GUIDE_WIDTH = 50\nexport const OVERLAP_OFFSET = Platform.OS === 'web' ? 20 : 8\nexport const OVERLAP_PADDING = Platform.OS === 'web' ? 3 : 0\n\nexport const eventCellCss = StyleSheet.create({\n  style: {\n    zIndex: 100,\n    borderRadius: 3,\n    padding: 4,\n    overflow: 'hidden',\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 1 },\n    shadowOpacity: 0.2,\n    shadowRadius: 1,\n    elevation: 2,\n    minWidth: '33%',\n  },\n})\n\n/*\n * Utility-first CSS.\n */\nexport const u = StyleSheet.create({\n  /*\n   * Flex\n   */\n  flex: {\n    flexDirection: 'row',\n  },\n  'flex-row': {\n    flexDirection: 'row',\n  },\n  'flex-row-reverse': {\n    flexDirection: 'row-reverse',\n  },\n  'flex-column': {\n    flexDirection: 'column',\n  },\n  'flex-column-reverse': {\n    flexDirection: 'column-reverse',\n  },\n  'flex-1': {\n    flex: 1,\n  },\n  'justify-between': {\n    justifyContent: 'space-between',\n  },\n  'justify-center': {\n    justifyContent: 'center',\n  },\n  'items-center': {\n    alignItems: 'center',\n  },\n  'self-center': {\n    alignSelf: 'center',\n  },\n\n  /*\n   * Border\n   */\n  'border-l': {\n    borderLeftWidth: 1,\n  },\n  'border-t': {\n    borderTopWidth: 1,\n  },\n  'border-b': {\n    borderBottomWidth: 1,\n  },\n  'border-b-2': {\n    borderBottomWidth: 2,\n  },\n  'border-r': {\n    borderRightWidth: 1,\n  },\n\n  /*\n   * Spacing\n   */\n  'mt-2': {\n    marginTop: 2,\n  },\n  'mt-4': {\n    marginTop: 4,\n  },\n  'mt-6': {\n    marginTop: 6,\n  },\n  'mb-6': {\n    marginBottom: 6,\n  },\n  'mx-3': {\n    marginLeft: 3,\n    marginRight: 3,\n  },\n  'p-2': {\n    padding: 2,\n  },\n  'p-8': {\n    padding: 8,\n  },\n  'pt-2': {\n    paddingTop: 2,\n  },\n  'py-2': {\n    paddingVertical: 2,\n  },\n  'px-6': {\n    paddingHorizontal: 6,\n  },\n  'pb-6': {\n    paddingBottom: 6,\n  },\n\n  /*\n   * Text\n   */\n  'text-center': {\n    textAlign: 'center',\n  },\n\n  /*\n   * Radius\n   */\n  rounded: {\n    borderRadius: 3,\n  },\n  'rounded-full': {\n    borderRadius: 9999,\n  },\n\n  /*\n   * Z Index\n   */\n  'z-0': {\n    zIndex: 0,\n  },\n  'z-10': {\n    zIndex: 10,\n  },\n  'z-20': {\n    zIndex: 20,\n  },\n\n  /*\n   * Width\n   */\n  'w-20': {\n    width: 20,\n  },\n  'w-36': {\n    width: 36,\n  },\n  'w-50': {\n    width: 50,\n  },\n\n  /*\n   * Height\n   */\n  'h-36': {\n    height: 36,\n  },\n  'h-50': {\n    height: 50,\n  },\n\n  /*\n   * Misc\n   */\n  'overflow-hidden': {\n    overflow: 'hidden',\n  },\n  absolute: {\n    position: 'absolute',\n  },\n  truncate:\n    Platform.OS === 'web'\n      ? {\n          overflow: 'hidden',\n          // textOverflow: 'ellipsis',\n          // whiteSpace: 'nowrap',\n        }\n      : {},\n})\n","import calendarize, { type Week } from 'calendarize'\nimport dayjs from 'dayjs'\n\nimport { OVERLAP_PADDING } from '../commonStyles'\nimport type { ICalendarEventBase, Mode, WeekNum } from '../interfaces'\nimport type { Palette } from '../theme/ThemeInterface'\n\nexport const DAY_MINUTES = 1440\nexport const SIMPLE_DATE_FORMAT = 'YYYY-MM-DD'\n\nexport function getDatesInMonth(date: string | Date | dayjs.Dayjs = new Date(), locale = 'en') {\n  const subject = dayjs(date)\n  const days = Array(subject.daysInMonth())\n    .fill(0)\n    .map((_, i) => {\n      return subject.date(i + 1).locale(locale)\n    })\n  return days\n}\n\nexport function getDatesInWeek(\n  date: string | Date | dayjs.Dayjs = new Date(),\n  weekStartsOn: WeekNum = 0,\n  locale = 'en',\n) {\n  const subject = dayjs(date)\n  const subjectDOW = subject.day()\n  const days = Array(7)\n    .fill(0)\n    .map((_, i) => {\n      return subject\n        .add(i - (subjectDOW < weekStartsOn ? 7 + subjectDOW : subjectDOW) + weekStartsOn, 'day')\n        .locale(locale)\n    })\n  return days\n}\n\nexport function getDatesInNextThreeDays(\n  date: string | Date | dayjs.Dayjs = new Date(),\n  locale = 'en',\n) {\n  const subject = dayjs(date).locale(locale)\n  const days = Array(3)\n    .fill(0)\n    .map((_, i) => {\n      return subject.add(i, 'day')\n    })\n  return days\n}\n\nexport function getDatesInNextOneDay(\n  date: string | Date | dayjs.Dayjs = new Date(),\n  locale = 'en',\n) {\n  const subject = dayjs(date).locale(locale)\n  const days = Array(1)\n    .fill(0)\n    .map((_, i) => {\n      return subject.add(i, 'day')\n    })\n  return days\n}\n\nexport function formatHour(hour: number, ampm = false) {\n  if (ampm) {\n    if (hour === 0) {\n      return ''\n    }\n    if (hour === 12) {\n      return '12 PM'\n    }\n    if (hour > 12) {\n      return `${hour - 12} PM`\n    }\n    return `${hour} AM`\n  }\n  return `${hour}:00`\n}\n\nexport function isToday(date: dayjs.Dayjs) {\n  const today = dayjs()\n  return today.isSame(date, 'day')\n}\n\nexport function getRelativeTopInDay(date: dayjs.Dayjs, minHour = 0, hours = 24) {\n  const totalMinutesInRange = (DAY_MINUTES / 24) * hours\n  return (100 * ((date.hour() - minHour) * 60 + date.minute())) / totalMinutesInRange\n}\n\nexport function todayInMinutes() {\n  const today = dayjs()\n  return today.diff(dayjs().startOf('day'), 'minute')\n}\n\nexport function modeToNum(mode: Mode, current?: dayjs.Dayjs | Date, amount = 1): number {\n  if (mode === 'month') {\n    if (!current) {\n      throw new Error('You must specify current date if mode is month')\n    }\n    const currentDate = current instanceof Date ? dayjs(current) : current\n\n    return currentDate.add(amount, 'month').diff(currentDate, 'day')\n  }\n  switch (mode) {\n    case 'day':\n      return 1 * amount\n    case '3days':\n      return 3 * amount\n    case 'week':\n    case 'custom':\n      return 7 * amount\n    default:\n      throw new Error('undefined mode')\n  }\n}\n\nexport function formatStartEnd(start: Date, end: Date, format: string) {\n  return `${dayjs(start).format(format)} - ${dayjs(end).format(format)}`\n}\n\nexport function isAllDayEvent(start: Date, end: Date) {\n  const _start = dayjs(start)\n  const _end = dayjs(end)\n\n  return _start.hour() === 0 && _start.minute() === 0 && _end.hour() === 0 && _end.minute() === 0\n}\n\nexport function getCountOfEventsAtEvent(\n  event: ICalendarEventBase,\n  sortedEventList: ICalendarEventBase[],\n) {\n  let count = 0\n\n  // Since the list is sorted, we can stop iterating once the start time exceeds the event's end time\n  for (const e of sortedEventList) {\n    // If the current event starts after the end of the event we're checking, no need to proceed further\n    if (e.start >= event.end) {\n      break\n    }\n\n    // Check for overlap\n    if (e.end > event.start && e.start < event.end) {\n      count++\n    }\n  }\n\n  return count\n}\n\nexport function getOrderOfEvent(\n  event: ICalendarEventBase,\n  sortedEventList: ICalendarEventBase[],\n): number {\n  const eventStart = new Date(event.start).getTime()\n  const eventEnd = new Date(event.end).getTime()\n\n  // Helper functions to get start and end times\n  const getStartTime = (e: ICalendarEventBase) => new Date(e.start).getTime()\n  const getEndTime = (e: ICalendarEventBase) => new Date(e.end).getTime()\n\n  // Binary search to find the first potentially overlapping event\n  let left = 0\n  let right = sortedEventList.length - 1\n  let firstOverlapIndex = sortedEventList.length\n\n  while (left <= right) {\n    const mid = Math.floor((left + right) / 2)\n    const midEventEnd = getEndTime(sortedEventList[mid])\n\n    if (midEventEnd <= eventStart) {\n      left = mid + 1\n    } else {\n      firstOverlapIndex = mid\n      right = mid - 1\n    }\n  }\n\n  // Collect overlapping events starting from the firstOverlapIndex\n  const overlappingEvents = []\n  for (let i = firstOverlapIndex; i < sortedEventList.length; i++) {\n    const currentEvent = sortedEventList[i]\n    const start = getStartTime(currentEvent)\n    const end = getEndTime(currentEvent)\n\n    if (start >= eventEnd) {\n      break // No further events will overlap\n    }\n\n    if ((eventStart >= start && eventStart < end) || (start >= eventStart && start < eventEnd)) {\n      overlappingEvents.push({ event: currentEvent, start, end })\n    }\n  }\n\n  // Sort overlapping events by start time and duration\n  overlappingEvents.sort((a, b) => {\n    if (a.start === b.start) {\n      return a.end - a.start - (b.end - b.start)\n    }\n\n    return a.start - b.start\n  })\n\n  // Find the index of the given event in the sorted overlapping events\n  const index = overlappingEvents.findIndex(({ event: e }) => e === event)\n  return index === -1 ? 0 : index\n}\n\n/**\n * Iterate over a sorted list of events and add the following properties:\n * - overlapPosition: position of the event in the stack of overlapping events\n * - overlapsCount: number of events that overlap with this event\n * @param events Sorted list of events by start time\n * @param eventsAreSorted indicates if the events are already sorted\n */\nexport function enrichEvents<T extends ICalendarEventBase>(\n  events: T[],\n  eventsAreSorted?: boolean,\n): Record<string, T[]> {\n  if (!events.length) return {}\n\n  let groupEndTime = events[0].end\n  let overlapPosition = 0\n  let overlapCounting = 0\n  const overlapCountingPointers: number[] = []\n\n  // If events are not sorted, sort them by start time\n  const baseEvents = eventsAreSorted\n    ? events\n    : events.sort((a, b) => a.start.getTime() - b.start.getTime())\n\n  const eventsWithOverlaps = baseEvents.map((event, index) => {\n    // If the event starts before the group end time, it overlaps\n    if (event.start < groupEndTime) {\n      // Update the group end time if this overlapping event ends after the current group end time\n      if (event.end > groupEndTime) {\n        groupEndTime = event.end\n      }\n      overlapCounting++\n      // If this is the last event, we need to add the overlap counting to the overlap counting pointers\n      if (index === baseEvents.length - 1) {\n        overlapCountingPointers.push(...Array(overlapCounting).fill(overlapCounting))\n      }\n      //  Otherwise, it doesn't overlap and we reset the pointers\n    } else {\n      groupEndTime = event.end\n      overlapCountingPointers.push(...Array(overlapCounting).fill(overlapCounting))\n      // If this is the last event, we need to add a \"group\" of 1 into the overlap counting pointers\n      if (index === baseEvents.length - 1) {\n        overlapCountingPointers.push(1)\n      }\n      overlapPosition = 0\n      overlapCounting = 1\n    }\n\n    return {\n      ...event,\n      // Add the overlap position to the event and increment by 1 for the next event\n      overlapPosition: overlapPosition++,\n    }\n  })\n\n  const eventsByDate: Record<string, T[]> = {}\n  eventsWithOverlaps.forEach((event, index) => {\n    // Add overlap count to the event\n    const enrichedEvent = {\n      ...event,\n      overlapCount: overlapCountingPointers[index],\n    }\n\n    const startDate = dayjs(enrichedEvent.start).format(SIMPLE_DATE_FORMAT)\n    const endDate = dayjs(enrichedEvent.end).format(SIMPLE_DATE_FORMAT)\n\n    if (!eventsByDate[startDate]) {\n      eventsByDate[startDate] = []\n    }\n\n    if (!eventsByDate[endDate]) {\n      eventsByDate[endDate] = []\n    }\n\n    if (startDate === endDate) {\n      eventsByDate[startDate].push(enrichedEvent)\n    } else {\n      /**\n       * In case of multi-day events, we need to create an event for each day setting the start\n       * and end dates of the middle days to the start and end of the day.\n       */\n\n      // Add the event to the bucket of the start date\n      eventsByDate[startDate].push({\n        ...enrichedEvent,\n        end: dayjs(enrichedEvent.start).endOf('day').toDate(),\n      })\n\n      // Add events in the bucket of the middle dates\n      const amountOfDaysBetweenDates = dayjs(enrichedEvent.start).diff(enrichedEvent.end, 'day')\n      for (let i = 1; i <= amountOfDaysBetweenDates; i++) {\n        const intermediateDate = dayjs(enrichedEvent.start).add(1, 'day')\n        if (!eventsByDate[intermediateDate.format(SIMPLE_DATE_FORMAT)]) {\n          eventsByDate[intermediateDate.format(SIMPLE_DATE_FORMAT)] = []\n        }\n        eventsByDate[intermediateDate.format(SIMPLE_DATE_FORMAT)].push({\n          ...enrichedEvent,\n          start: intermediateDate.startOf('day').toDate(),\n        })\n      }\n\n      // Add the event to the bucket of the end date\n      eventsByDate[endDate].push({\n        ...enrichedEvent,\n        start: dayjs(enrichedEvent.end).startOf('day').toDate(),\n      })\n    }\n  })\n\n  return eventsByDate\n}\n\nexport function getStyleForOverlappingEvent(\n  eventPosition: number,\n  overlapOffset: number,\n  palettes: Palette[],\n) {\n  let overlapStyle = {}\n  const offset = overlapOffset\n  const start = eventPosition * offset\n  const zIndex = 100 + eventPosition\n  const bgColors = palettes.map((p) => p.main)\n  overlapStyle = {\n    start: start + OVERLAP_PADDING,\n    end: OVERLAP_PADDING,\n    backgroundColor: bgColors[eventPosition % bgColors.length] || bgColors[0],\n    zIndex,\n  }\n  return overlapStyle\n}\n\nexport function getDatesInNextCustomDays(\n  date: string | Date | dayjs.Dayjs = new Date(),\n  weekStartsOn: WeekNum = 0,\n  weekEndsOn: WeekNum = 6,\n  locale = 'en',\n) {\n  const subject = dayjs(date)\n  const subjectDOW = subject.day()\n  const days = Array(weekDaysCount(weekStartsOn, weekEndsOn))\n    .fill(0)\n    .map((_, i) => {\n      return subject.add(i - subjectDOW + weekStartsOn, 'day').locale(locale)\n    })\n  return days\n}\n\n// TODO: This method should be unit-tested\nfunction weekDaysCount(weekStartsOn: WeekNum, weekEndsOn: WeekNum) {\n  // handle reverse week\n  if (weekEndsOn < weekStartsOn) {\n    let daysCount = 1\n    let i = weekStartsOn\n    while (i !== weekEndsOn) {\n      ++i\n      ++daysCount\n      if (i > 6) {\n        i = 0\n      }\n      // fallback for infinite\n      if (daysCount > 7) {\n        break\n      }\n    }\n    return daysCount\n  }\n  // normal week\n  if (weekEndsOn > weekStartsOn) {\n    return weekEndsOn - weekStartsOn + 1\n  }\n  // default\n  return 1\n}\n\nexport function getEventSpanningInfo(\n  event: ICalendarEventBase,\n  date: dayjs.Dayjs,\n  dayOfTheWeek: number,\n  calendarWidth: number,\n  showAdjacentMonths: boolean,\n) {\n  const dayWidth = calendarWidth / 7\n\n  // adding + 1 because durations start at 0\n  const eventDuration =\n    Math.floor(dayjs.duration(dayjs(event.end).endOf('day').diff(dayjs(event.start))).asDays()) + 1\n  const eventDaysLeft =\n    Math.floor(dayjs.duration(dayjs(event.end).endOf('day').diff(date)).asDays()) + 1\n  const weekDaysLeft = 7 - dayOfTheWeek\n  const monthDaysLeft = date.endOf('month').date() - date.date()\n  const isMultipleDays = eventDuration > 1\n  // This is to determine how many days from the event to show during a week\n  const eventWeekDuration =\n    !showAdjacentMonths && monthDaysLeft < 7 && monthDaysLeft < eventDaysLeft\n      ? monthDaysLeft + 1\n      : eventDaysLeft > weekDaysLeft\n        ? weekDaysLeft\n        : eventDaysLeft < eventDuration\n          ? eventDaysLeft\n          : eventDuration\n  const isMultipleDaysStart =\n    isMultipleDays &&\n    (date.isSame(event.start, 'day') ||\n      (dayOfTheWeek === 0 && date.isAfter(event.start)) ||\n      (!showAdjacentMonths && date.get('date') === 1))\n  // - 6 to take in account the padding\n  const eventWidth = dayWidth * eventWeekDuration - 6\n\n  return { eventWidth, isMultipleDays, isMultipleDaysStart, eventWeekDuration }\n}\n\nexport function getWeeksWithAdjacentMonths(targetDate: dayjs.Dayjs, weekStartsOn: WeekNum) {\n  let weeks = calendarize(targetDate.toDate(), weekStartsOn)\n  const firstDayIndex = weeks[0].findIndex((d) => d === 1)\n  const lastDay = targetDate.endOf('month').date()\n  const lastDayIndex = weeks[weeks.length - 1].findIndex((d) => d === lastDay)\n\n  weeks = weeks.map((week, iw) => {\n    return week.map((d, id) => {\n      if (d !== 0) {\n        return d\n      }\n\n      if (iw === 0) {\n        return d - (firstDayIndex - id - 1)\n      }\n\n      return lastDay + (id - lastDayIndex)\n    }) as Week\n  })\n\n  return weeks\n}\n","import dayjs from 'dayjs'\nimport React from 'react'\n\nexport function useNow(enabled: boolean) {\n  const [now, setNow] = React.useState(dayjs())\n\n  React.useEffect(() => {\n    if (!enabled) {\n      return () => {}\n    }\n    const pid = setInterval(() => setNow(dayjs()), 60 * 1000)\n    return () => clearInterval(pid)\n  }, [enabled])\n\n  return {\n    now,\n  }\n}\n","import dayjs from 'dayjs'\nimport React from 'react'\nimport type { AccessibilityProps, ViewStyle } from 'react-native'\n\nimport { eventCellCss } from '../commonStyles'\nimport type {\n  CalendarTouchableOpacityProps,\n  EventCellStyle,\n  ICalendarEventBase,\n} from '../interfaces'\n\ninterface UseCalendarTouchableOpacityPropsProps<T extends ICalendarEventBase> {\n  event: T\n  eventCellStyle?: EventCellStyle<T>\n  eventCellAccessibilityProps?: AccessibilityProps\n  onPressEvent?: (event: T) => void\n  injectedStyles?: ViewStyle[]\n}\n\nexport function useCalendarTouchableOpacityProps<T extends ICalendarEventBase>({\n  event,\n  eventCellStyle,\n  eventCellAccessibilityProps: eventCellAccessiblityProps = {},\n  injectedStyles = [],\n  onPressEvent,\n}: UseCalendarTouchableOpacityPropsProps<T>) {\n  const getEventStyle = React.useMemo(\n    () => (typeof eventCellStyle === 'function' ? eventCellStyle : () => eventCellStyle),\n    [eventCellStyle],\n  )\n\n  const plainJsEvent = React.useMemo(\n    () => ({\n      ...event,\n      start: dayjs(event.start).toDate(),\n      end: dayjs(event.end).toDate(),\n    }),\n    [event],\n  )\n\n  const _onPress = React.useCallback(() => {\n    onPressEvent?.(plainJsEvent)\n  }, [onPressEvent, plainJsEvent])\n\n  const touchableOpacityProps: CalendarTouchableOpacityProps = {\n    delayPressIn: 20,\n    key: `${event.start.toISOString()}_${event.title}`,\n    style: [eventCellCss.style, ...injectedStyles, getEventStyle(plainJsEvent)],\n    onPress: _onPress,\n    disabled: !onPressEvent || !!event.disabled,\n    ...eventCellAccessiblityProps,\n  }\n\n  return touchableOpacityProps\n}\n","import dayjs from 'dayjs'\nimport * as React from 'react'\nimport { Text, TouchableOpacity } from 'react-native'\n\nimport type { CalendarTouchableOpacityProps, ICalendarEventBase } from '../interfaces'\nimport { useTheme } from '../theme/ThemeContext'\nimport { formatStartEnd } from '../utils/datetime'\n\ninterface DefaultCalendarEventRendererProps<T extends ICalendarEventBase> {\n  touchableOpacityProps: CalendarTouchableOpacityProps\n  event: T\n  showTime?: boolean\n  textColor: string\n  ampm: boolean\n}\n\nexport function DefaultCalendarEventRenderer<T extends ICalendarEventBase>({\n  touchableOpacityProps,\n  event,\n  showTime = true,\n  textColor,\n  ampm,\n}: DefaultCalendarEventRendererProps<T>) {\n  const theme = useTheme()\n  const eventTimeStyle = { fontSize: theme.typography.xs.fontSize, color: textColor }\n  const eventTitleStyle = { fontSize: theme.typography.sm.fontSize, color: textColor }\n\n  return (\n    <TouchableOpacity {...touchableOpacityProps}>\n      {dayjs(event.end).diff(event.start, 'minute') < 32 && showTime ? (\n        <Text style={eventTitleStyle}>\n          {event.title},\n          <Text style={eventTimeStyle}>\n            {dayjs(event.start).format(ampm ? 'hh:mm a' : 'HH:mm')}\n          </Text>\n        </Text>\n      ) : (\n        <>\n          <Text style={eventTitleStyle}>{event.title}</Text>\n          {showTime && (\n            <Text style={eventTimeStyle}>\n              {formatStartEnd(event.start, event.end, ampm ? 'h:mm a' : 'HH:mm')}\n            </Text>\n          )}\n          {event.children && event.children}\n        </>\n      )}\n    </TouchableOpacity>\n  )\n}\n","import dayjs from 'dayjs'\nimport * as React from 'react'\nimport type { AccessibilityProps } from 'react-native'\nimport { OVERLAP_OFFSET, u } from '../commonStyles'\nimport { useCalendarTouchableOpacityProps } from '../hooks/useCalendarTouchableOpacityProps'\nimport type { EventCellStyle, EventRenderer, ICalendarEventBase, Mode } from '../interfaces'\nimport { useTheme } from '../theme/ThemeContext'\nimport { DAY_MINUTES, getRelativeTopInDay, getStyleForOverlappingEvent } from '../utils/datetime'\nimport { typedMemo } from '../utils/react'\nimport { DefaultCalendarEventRenderer } from './DefaultCalendarEventRenderer'\n\nconst getEventCellPositionStyle = (start: Date, end: Date, minHour: number, hours: number) => {\n  const totalMinutesInRange = (DAY_MINUTES / 24) * hours\n  const durationInMinutes = dayjs(end).diff(start, 'minute')\n  const relativeHeight = 100 * (1 / totalMinutesInRange) * durationInMinutes\n  const relativeTop = getRelativeTopInDay(dayjs(start), minHour, hours)\n  const relativeTopOffset = (minHour * 60) / DAY_MINUTES\n  return {\n    height: `${relativeHeight}%`,\n    top: `${relativeTop - relativeTopOffset}%`,\n  }\n}\n\ninterface CalendarEventProps<T extends ICalendarEventBase> {\n  event: T\n  onPressEvent?: (event: T) => void\n  eventCellStyle?: EventCellStyle<T>\n  eventCellTextColor?: string\n  eventCellAccessibilityProps?: AccessibilityProps\n  showTime: boolean\n  eventCount?: number\n  eventOrder?: number\n  overlapOffset?: number\n  renderEvent?: EventRenderer<T>\n  ampm: boolean\n  mode?: Mode\n  maxHour?: number\n  minHour?: number\n  hours?: number\n}\n\nfunction _CalendarEvent<T extends ICalendarEventBase>({\n  event,\n  onPressEvent,\n  eventCellStyle,\n  eventCellAccessibilityProps = {},\n  eventCellTextColor,\n  showTime,\n  eventCount = 1,\n  eventOrder = 0,\n  overlapOffset = OVERLAP_OFFSET,\n  renderEvent,\n  ampm,\n  mode,\n  minHour = 0,\n  hours = 24,\n}: CalendarEventProps<T>) {\n  const theme = useTheme()\n\n  const palettes = React.useMemo(\n    () => [theme.palette.primary, ...theme.eventCellOverlappings],\n    [theme],\n  )\n\n  const touchableOpacityProps = useCalendarTouchableOpacityProps({\n    event,\n    eventCellStyle,\n    eventCellAccessibilityProps,\n    onPressEvent,\n    injectedStyles:\n      mode === 'schedule'\n        ? [getStyleForOverlappingEvent(eventOrder, overlapOffset, palettes)]\n        : [\n            getEventCellPositionStyle(event.start, event.end, minHour, hours),\n            getStyleForOverlappingEvent(eventOrder, overlapOffset, palettes),\n            u.absolute,\n            u['mt-2'],\n            u['mx-3'],\n          ],\n  })\n\n  const textColor = React.useMemo(() => {\n    const fgColors = palettes.map((p) => p.contrastText)\n    return fgColors[eventCount % fgColors.length] || fgColors[0]\n  }, [eventCount, palettes])\n  if (renderEvent) {\n    return renderEvent(event, touchableOpacityProps)\n  }\n\n  return (\n    <DefaultCalendarEventRenderer\n      event={event}\n      showTime={showTime}\n      ampm={ampm}\n      touchableOpacityProps={touchableOpacityProps}\n      textColor={eventCellTextColor || textColor}\n    />\n  )\n}\n\nexport const CalendarEvent = typedMemo(_CalendarEvent)\n","import type dayjs from 'dayjs'\nimport * as React from 'react'\nimport { type AccessibilityProps, TouchableWithoutFeedback, View } from 'react-native'\n\nimport { u } from '../commonStyles'\nimport type { CalendarCellStyle } from '../interfaces'\nimport { useTheme } from '../theme/ThemeContext'\n\ninterface HourGuideCellProps {\n  cellHeight: number\n  onLongPress: (d: dayjs.Dayjs) => void\n  onPress: (d: dayjs.Dayjs) => void\n  date: dayjs.Dayjs\n  hour: number\n  index: number\n  calendarCellStyle?: CalendarCellStyle\n  calendarCellAccessibilityProps?: AccessibilityProps\n  timeslots: number\n}\n\nconst _HourGuideCell = ({\n  cellHeight,\n  onLongPress,\n  onPress,\n  date,\n  hour,\n  index,\n  calendarCellStyle,\n  calendarCellAccessibilityProps,\n  timeslots,\n}: HourGuideCellProps) => {\n  const theme = useTheme()\n\n  const getCalendarCellStyle = React.useMemo(\n    () => (typeof calendarCellStyle === 'function' ? calendarCellStyle : () => calendarCellStyle),\n    [calendarCellStyle],\n  )\n\n  return (\n    <TouchableWithoutFeedback\n      onLongPress={() => onLongPress(date.hour(hour).minute(0))}\n      onPress={() => onPress(date.hour(hour).minute(0))}\n      {...calendarCellAccessibilityProps}\n    >\n      <View\n        style={[\n          u['border-l'],\n          u['border-b'],\n          {\n            borderColor: theme.palette.gray['200'],\n            height: cellHeight,\n            justifyContent: 'space-evenly',\n          },\n          { ...getCalendarCellStyle(date.toDate(), index) },\n        ]}\n      >\n        {Array.from({ length: timeslots }, (_, index) => (\n          <View\n            key={`${index}-${date.toDate()}`}\n            style={[\n              u['border-l'],\n              u['border-b'],\n              {\n                borderColor: theme.palette.gray['100'],\n                height: 1,\n              },\n            ]}\n          />\n        ))}\n      </View>\n    </TouchableWithoutFeedback>\n  )\n}\n\nexport const HourGuideCell = React.memo(_HourGuideCell)\n","import * as React from 'react'\nimport { type AccessibilityProps, Text, type TextStyle, View } from 'react-native'\n\nimport { u } from '../commonStyles'\nimport type { HourRenderer } from '../interfaces'\nimport { useTheme } from '../theme/ThemeContext'\nimport { formatHour } from '../utils/datetime'\nimport { objHasContent } from '../utils/object'\n\ninterface HourGuideColumnProps {\n  cellHeight: number\n  hour: number\n  ampm: boolean\n  hourStyle: TextStyle\n  calendarCellAccessibilityProps?: AccessibilityProps\n  hourComponent?: HourRenderer\n}\n\nconst _HourGuideColumn = ({\n  cellHeight,\n  hour,\n  ampm,\n  hourStyle = {},\n  calendarCellAccessibilityProps = {},\n  hourComponent: HourComponent,\n}: HourGuideColumnProps) => {\n  const theme = useTheme()\n  const textStyle = React.useMemo(\n    () => ({ color: theme.palette.gray[500], fontSize: theme.typography.xs.fontSize }),\n    [theme],\n  )\n\n  return (\n    <View style={{ height: cellHeight }} {...calendarCellAccessibilityProps}>\n      {HourComponent ? (\n        <HourComponent hour={hour} ampm={ampm} />\n      ) : (\n        <Text style={[objHasContent(hourStyle) ? hourStyle : textStyle, u['text-center']]}>\n          {formatHour(hour, ampm)}\n        </Text>\n      )}\n    </View>\n  )\n}\n\nexport const HourGuideColumn = React.memo(_HourGuideColumn, () => true)\n","import dayjs from 'dayjs'\nimport * as React from 'react'\nimport {\n  type AccessibilityProps,\n  Platform,\n  ScrollView,\n  StyleSheet,\n  type TextStyle,\n  View,\n  type ViewStyle,\n} from 'react-native'\n\nimport { u } from '../commonStyles'\nimport { useNow } from '../hooks/useNow'\nimport type {\n  CalendarCellStyle,\n  EventCellStyle,\n  EventRenderer,\n  HourRenderer,\n  ICalendarEventBase,\n} from '../interfaces'\nimport { useTheme } from '../theme/ThemeContext'\nimport {\n  SIMPLE_DATE_FORMAT,\n  enrichEvents,\n  getCountOfEventsAtEvent,\n  getOrderOfEvent,\n  getRelativeTopInDay,\n  isToday,\n} from '../utils/datetime'\nimport { typedMemo } from '../utils/react'\nimport { CalendarEvent } from './CalendarEvent'\nimport { HourGuideCell } from './HourGuideCell'\nimport { HourGuideColumn } from './HourGuideColumn'\n\nconst styles = StyleSheet.create({\n  nowIndicator: {\n    position: 'absolute',\n    zIndex: 10000,\n    height: 2,\n    width: '100%',\n  },\n})\n\ninterface CalendarBodyProps<T extends ICalendarEventBase> {\n  cellHeight: number\n  containerHeight: number\n  dateRange: dayjs.Dayjs[]\n  events: T[]\n  scrollOffsetMinutes: number\n  ampm: boolean\n  showTime: boolean\n  style: ViewStyle\n  eventCellTextColor?: string\n  eventCellStyle?: EventCellStyle<T>\n  eventCellAccessibilityProps?: AccessibilityProps\n  calendarCellStyle?: CalendarCellStyle\n  calendarCellAccessibilityProps?: AccessibilityProps\n  hideNowIndicator?: boolean\n  overlapOffset?: number\n  onLongPressCell?: (date: Date) => void\n  onPressCell?: (date: Date) => void\n  onPressEvent?: (event: T) => void\n  renderEvent?: EventRenderer<T>\n  headerComponent?: React.ReactElement | null\n  headerComponentStyle?: ViewStyle\n  hourStyle?: TextStyle\n  hideHours?: boolean\n  minHour?: number\n  maxHour?: number\n  isEventOrderingEnabled?: boolean\n  showWeekNumber?: boolean\n  showVerticalScrollIndicator?: boolean\n  enrichedEventsByDate?: Record<string, T[]>\n  enableEnrichedEvents?: boolean\n  eventsAreSorted?: boolean\n  timeslots?: number\n  hourComponent?: HourRenderer\n}\n\nfunction _CalendarBody<T extends ICalendarEventBase>({\n  containerHeight,\n  cellHeight,\n  dateRange,\n  style,\n  onLongPressCell,\n  onPressCell,\n  events,\n  onPressEvent,\n  eventCellTextColor,\n  eventCellStyle,\n  eventCellAccessibilityProps = {},\n  calendarCellStyle,\n  calendarCellAccessibilityProps = {},\n  ampm,\n  showTime,\n  scrollOffsetMinutes,\n  hideNowIndicator,\n  overlapOffset,\n  renderEvent,\n  headerComponent = null,\n  headerComponentStyle = {},\n  hourStyle = {},\n  hideHours = false,\n  minHour = 0,\n  maxHour = 23,\n  isEventOrderingEnabled = true,\n  showWeekNumber = false,\n  showVerticalScrollIndicator = false,\n  enrichedEventsByDate,\n  enableEnrichedEvents = false,\n  eventsAreSorted = false,\n  timeslots = 0,\n  hourComponent,\n}: CalendarBodyProps<T>) {\n  const scrollView = React.useRef<ScrollView>(null)\n  const { now } = useNow(!hideNowIndicator)\n  const hours = Array.from({ length: maxHour - minHour + 1 }, (_, i) => minHour + i)\n\n  React.useEffect(() => {\n    let timeout: NodeJS.Timeout\n    if (scrollView.current && scrollOffsetMinutes && Platform.OS !== 'ios') {\n      // We add delay here to work correct on React Native\n      // see: https://stackoverflow.com/questions/33208477/react-native-android-scrollview-scrollto-not-working\n      timeout = setTimeout(\n        () => {\n          if (scrollView?.current) {\n            scrollView.current.scrollTo({\n              y: (cellHeight * scrollOffsetMinutes) / 60,\n              animated: false,\n            })\n          }\n        },\n        Platform.OS === 'web' ? 0 : 10,\n      )\n    }\n    return () => {\n      if (timeout) {\n        clearTimeout(timeout)\n      }\n    }\n  }, [scrollOffsetMinutes, cellHeight])\n\n  const _onPressCell = React.useCallback(\n    (date: dayjs.Dayjs) => {\n      onPressCell?.(date.toDate())\n    },\n    [onPressCell],\n  )\n\n  const _onLongPressCell = React.useCallback(\n    (date: dayjs.Dayjs) => {\n      onLongPressCell?.(date.toDate())\n    },\n    [onLongPressCell],\n  )\n\n  const internalEnrichedEventsByDate = React.useMemo(() => {\n    if (enableEnrichedEvents) {\n      return enrichedEventsByDate || enrichEvents(events, eventsAreSorted)\n    }\n    return {}\n  }, [enableEnrichedEvents, enrichedEventsByDate, events, eventsAreSorted])\n\n  const enrichedEvents = React.useMemo(() => {\n    if (enableEnrichedEvents) return []\n\n    if (isEventOrderingEnabled) {\n      // Events are being sorted once so we dont have to do it on each loop\n      const sortedEvents = events.sort((a, b) => a.start.getDate() - b.start.getDate())\n      return sortedEvents.map((event) => ({\n        ...event,\n        overlapPosition: getOrderOfEvent(event, sortedEvents),\n        overlapCount: getCountOfEventsAtEvent(event, sortedEvents),\n      }))\n    }\n\n    return events\n  }, [enableEnrichedEvents, events, isEventOrderingEnabled])\n\n  const _renderMappedEvent = React.useCallback(\n    (event: T, index: number) => {\n      return (\n        <CalendarEvent\n          key={`${index}${event.start}${event.title}${event.end}`}\n          event={event}\n          onPressEvent={onPressEvent}\n          eventCellStyle={eventCellStyle}\n          eventCellAccessibilityProps={eventCellAccessibilityProps}\n          eventCellTextColor={eventCellTextColor}\n          showTime={showTime}\n          eventCount={event.overlapCount}\n          eventOrder={event.overlapPosition}\n          overlapOffset={overlapOffset}\n          renderEvent={renderEvent}\n          ampm={ampm}\n          maxHour={maxHour}\n          minHour={minHour}\n          hours={hours.length}\n        />\n      )\n    },\n    [\n      ampm,\n      eventCellStyle,\n      eventCellTextColor,\n      eventCellAccessibilityProps,\n      onPressEvent,\n      overlapOffset,\n      renderEvent,\n      showTime,\n      maxHour,\n      minHour,\n      hours.length,\n    ],\n  )\n\n  const _renderEvents = React.useCallback(\n    (date: dayjs.Dayjs) => {\n      if (enableEnrichedEvents) {\n        return (internalEnrichedEventsByDate[date.format(SIMPLE_DATE_FORMAT)] || []).map(\n          _renderMappedEvent,\n        )\n      }\n\n      return (\n        <>\n          {/* Render events of this date */}\n          {/* M  T  (W)  T  F  S  S */}\n          {/*       S-E             */}\n          {(enrichedEvents as T[])\n            .filter(({ start }) =>\n              dayjs(start).isBetween(date.startOf('day'), date.endOf('day'), null, '[)'),\n            )\n            .map(_renderMappedEvent)}\n\n          {/* Render events which starts before this date and ends on this date */}\n          {/* M  T  (W)  T  F  S  S */}\n          {/* S------E              */}\n          {(enrichedEvents as T[])\n            .filter(\n              ({ start, end }) =>\n                dayjs(start).isBefore(date.startOf('day')) &&\n                dayjs(end).isBetween(date.startOf('day'), date.endOf('day'), null, '[)'),\n            )\n            .map((event) => ({\n              ...event,\n              start: dayjs(event.end).startOf('day'),\n            }))\n            .map(_renderMappedEvent)}\n\n          {/* Render events which starts before this date and ends after this date */}\n          {/* M  T  (W)  T  F  S  S */}\n          {/*    S-------E          */}\n          {(enrichedEvents as T[])\n            .filter(\n              ({ start, end }) =>\n                dayjs(start).isBefore(date.startOf('day')) && dayjs(end).isAfter(date.endOf('day')),\n            )\n            .map((event) => ({\n              ...event,\n              start: dayjs(event.end).startOf('day'),\n              end: dayjs(event.end).endOf('day'),\n            }))\n            .map(_renderMappedEvent)}\n        </>\n      )\n    },\n    [_renderMappedEvent, enableEnrichedEvents, enrichedEvents, internalEnrichedEventsByDate],\n  )\n\n  const theme = useTheme()\n\n  return (\n    <React.Fragment>\n      {headerComponent != null ? <View style={headerComponentStyle}>{headerComponent}</View> : null}\n      <ScrollView\n        style={[\n          {\n            height: containerHeight - cellHeight * 3,\n          },\n          style,\n        ]}\n        ref={scrollView}\n        scrollEventThrottle={32}\n        showsVerticalScrollIndicator={showVerticalScrollIndicator}\n        nestedScrollEnabled\n        contentOffset={Platform.OS === 'ios' ? { x: 0, y: scrollOffsetMinutes } : { x: 0, y: 0 }}\n      >\n        <View style={[u['flex-1'], theme.isRTL ? u['flex-row-reverse'] : u['flex-row']]}>\n          {(!hideHours || showWeekNumber) && (\n            <View style={[u['z-20'], u['w-50']]}>\n              {hours.map((hour) => (\n                <HourGuideColumn\n                  key={hour}\n                  cellHeight={cellHeight}\n                  hour={hour}\n                  ampm={ampm}\n                  hourStyle={hourStyle}\n                  calendarCellAccessibilityProps={calendarCellAccessibilityProps}\n                  hourComponent={hourComponent}\n                />\n              ))}\n            </View>\n          )}\n\n          {dateRange.map((date) => (\n            <View style={[u['flex-1'], u['overflow-hidden']]} key={date.toString()}>\n              {hours.map((hour, index) => (\n                <HourGuideCell\n                  key={hour}\n                  cellHeight={cellHeight}\n                  date={date}\n                  hour={hour}\n                  onLongPress={_onLongPressCell}\n                  onPress={_onPressCell}\n                  index={index}\n                  calendarCellStyle={calendarCellStyle}\n                  calendarCellAccessibilityProps={calendarCellAccessibilityProps}\n                  timeslots={timeslots}\n                />\n              ))}\n              {_renderEvents(date)}\n              {isToday(date) && !hideNowIndicator && (\n                <View\n                  style={[\n                    styles.nowIndicator,\n                    { backgroundColor: theme.palette.nowIndicator },\n                    {\n                      top: `${getRelativeTopInDay(now, minHour, hours.length)}%`,\n                    },\n                  ]}\n                />\n              )}\n            </View>\n          ))}\n        </View>\n      </ScrollView>\n    </React.Fragment>\n  )\n}\n\nexport const CalendarBody = typedMemo(_CalendarBody)\n","import type dayjs from 'dayjs'\nimport * as React from 'react'\nimport type { AccessibilityProps } from 'react-native'\nimport { Text, TouchableOpacity, View } from 'react-native'\nimport { u } from '../commonStyles'\nimport { useCalendarTouchableOpacityProps } from '../hooks/useCalendarTouchableOpacityProps'\nimport type { EventCellStyle, EventRenderer, ICalendarEventBase } from '../interfaces'\nimport { useTheme } from '../theme/ThemeContext'\nimport { getEventSpanningInfo } from '../utils/datetime'\nimport { typedMemo } from '../utils/react'\n\ninterface CalendarEventProps<T extends ICalendarEventBase> {\n  event: T\n  onPressEvent?: (event: T) => void\n  eventCellStyle?: EventCellStyle<T>\n  eventCellAccessibilityProps?: AccessibilityProps\n  renderEvent?: EventRenderer<T>\n  date: dayjs.Dayjs\n  dayOfTheWeek: number\n  calendarWidth: number\n  isRTL: boolean\n  eventMinHeightForMonthView: number\n  showAdjacentMonths: boolean\n}\n\nfunction _CalendarEventForMonthView<T extends ICalendarEventBase>({\n  event,\n  onPressEvent,\n  eventCellStyle,\n  eventCellAccessibilityProps = {},\n  renderEvent,\n  date,\n  dayOfTheWeek,\n  calendarWidth,\n  isRTL,\n  eventMinHeightForMonthView,\n  showAdjacentMonths,\n}: CalendarEventProps<T>) {\n  const theme = useTheme()\n\n  const { eventWidth, isMultipleDays, isMultipleDaysStart, eventWeekDuration } = React.useMemo(\n    () => getEventSpanningInfo(event, date, dayOfTheWeek, calendarWidth, showAdjacentMonths),\n    [date, dayOfTheWeek, event, calendarWidth, showAdjacentMonths],\n  )\n\n  const touchableOpacityProps = useCalendarTouchableOpacityProps({\n    event,\n    eventCellStyle,\n    eventCellAccessibilityProps,\n    onPressEvent,\n    injectedStyles: [\n      { backgroundColor: theme.palette.primary.main },\n      isMultipleDaysStart && eventWeekDuration > 1\n        ? {\n            position: 'absolute',\n            width: eventWidth,\n            zIndex: 10000,\n          }\n        : {},\n      isRTL ? { right: 0 } : { left: 0 },\n    ],\n  })\n\n  return (\n    <TouchableOpacity\n      style={[{ minHeight: eventMinHeightForMonthView }, u['mt-2']]}\n      onPress={() => !event.disabled && onPressEvent?.(event)}\n    >\n      {(!isMultipleDays && date.isSame(event.start, 'day')) ||\n      (isMultipleDays && isMultipleDaysStart) ? (\n        renderEvent ? (\n          renderEvent(event, touchableOpacityProps)\n        ) : (\n          <View {...touchableOpacityProps}>\n            <Text\n              style={[\n                { color: theme.palette.primary.contrastText },\n                theme.typography.xs,\n                u.truncate,\n                isRTL && { textAlign: 'right' },\n              ]}\n              numberOfLines={1}\n            >\n              {event.title}\n            </Text>\n          </View>\n        )\n      ) : null}\n    </TouchableOpacity>\n  )\n}\n\nexport const CalendarEventForMonthView = typedMemo(_CalendarEventForMonthView)\n","import calendarize from 'calendarize'\nimport dayjs from 'dayjs'\nimport * as React from 'react'\nimport {\n  type AccessibilityProps,\n  Animated,\n  Platform,\n  Text,\n  TouchableHighlight,\n  TouchableOpacity,\n  View,\n  type ViewStyle,\n} from 'react-native'\n\nimport { u } from '../commonStyles'\nimport { useNow } from '../hooks/useNow'\nimport type {\n  CalendarCellStyle,\n  CalendarCellTextStyle,\n  EventCellStyle,\n  EventRenderer,\n  HorizontalDirection,\n  ICalendarEventBase,\n  WeekNum,\n} from '../interfaces'\nimport { useTheme } from '../theme/ThemeContext'\nimport { SIMPLE_DATE_FORMAT, getWeeksWithAdjacentMonths } from '../utils/datetime'\nimport { typedMemo } from '../utils/react'\nimport { CalendarEventForMonthView } from './CalendarEventForMonthView'\n\ninterface CalendarBodyForMonthViewProps<T extends ICalendarEventBase> {\n  containerHeight: number\n  targetDate: dayjs.Dayjs\n  events: T[]\n  style: ViewStyle\n  eventCellStyle?: EventCellStyle<T>\n  eventCellAccessibilityProps?: AccessibilityProps\n  calendarCellStyle?: CalendarCellStyle\n  calendarCellAccessibilityPropsForMonthView?: AccessibilityProps\n  calendarCellAccessibilityProps?: AccessibilityProps\n  calendarCellTextStyle?: CalendarCellTextStyle\n  hideNowIndicator?: boolean\n  showAdjacentMonths: boolean\n  onLongPressCell?: (date: Date) => void\n  onPressCell?: (date: Date) => void\n  onPressDateHeader?: (date: Date) => void\n  onPressEvent?: (event: T) => void\n  onSwipeHorizontal?: (d: HorizontalDirection) => void\n  renderEvent?: EventRenderer<T>\n  maxVisibleEventCount: number\n  weekStartsOn: WeekNum\n  eventMinHeightForMonthView: number\n  moreLabel: string\n  onPressMoreLabel?: (events: T[], date: Date) => void\n  sortedMonthView: boolean\n  showWeekNumber?: boolean\n  renderCustomDateForMonth?: (date: Date) => React.ReactElement | null\n  disableMonthEventCellPress?: boolean\n}\n\nfunction _CalendarBodyForMonthView<T extends ICalendarEventBase>({\n  containerHeight,\n  targetDate,\n  style,\n  onLongPressCell,\n  onPressCell,\n  onPressDateHeader,\n  events,\n  onPressEvent,\n  eventCellStyle,\n  eventCellAccessibilityProps = {},\n  calendarCellStyle,\n  calendarCellAccessibilityPropsForMonthView = {},\n  calendarCellAccessibilityProps = {},\n  calendarCellTextStyle,\n  hideNowIndicator,\n  showAdjacentMonths,\n  renderEvent,\n  maxVisibleEventCount,\n  weekStartsOn,\n  eventMinHeightForMonthView,\n  moreLabel,\n  onPressMoreLabel,\n  sortedMonthView,\n  showWeekNumber = false,\n  renderCustomDateForMonth,\n  disableMonthEventCellPress,\n}: CalendarBodyForMonthViewProps<T>) {\n  const { now } = useNow(!hideNowIndicator)\n  const [calendarWidth, setCalendarWidth] = React.useState<number>(0)\n  const [calendarCellHeight, setCalendarCellHeight] = React.useState<number>(0)\n\n  const weeks = showAdjacentMonths\n    ? getWeeksWithAdjacentMonths(targetDate, weekStartsOn)\n    : calendarize(targetDate.toDate(), weekStartsOn)\n\n  const minCellHeight = containerHeight / 5 - 30\n  const theme = useTheme()\n\n  const getCalendarCellStyle = React.useMemo(\n    () => (typeof calendarCellStyle === 'function' ? calendarCellStyle : () => calendarCellStyle),\n    [calendarCellStyle],\n  )\n\n  const getCalendarCellTextStyle = React.useMemo(\n    () =>\n      typeof calendarCellTextStyle === 'function'\n        ? calendarCellTextStyle\n        : () => calendarCellTextStyle,\n    [calendarCellTextStyle],\n  )\n\n  const getStartOfWeek = React.useCallback(\n    (date: dayjs.Dayjs) => {\n      if (date.day() < weekStartsOn) {\n        return date.add(weekStartsOn - date.day() - 7, 'days')\n      }\n      if (date.day() > weekStartsOn) {\n        return date.add(weekStartsOn - date.day(), 'days')\n      }\n      return date\n    },\n    [weekStartsOn],\n  )\n\n  const sortedEvents = React.useCallback(\n    (day: dayjs.Dayjs) => {\n      if (!sortedMonthView) {\n        return events.filter(({ start, end }) =>\n          day.isBetween(dayjs(start).startOf('day'), dayjs(end).endOf('day'), null, '[)'),\n        )\n      }\n\n      /**\n       * Better way to sort overlapping events that spans accross multiple days\n       * For example, if you want following events\n       * Event 1, start = 01/01 12:00, end = 02/01 12:00\n       * Event 2, start = 02/01 12:00, end = 03/01 12:00\n       * Event 3, start = 03/01 12:00, end = 04/01 12:00\n       *\n       * When drawing calendar in month view, event 3 should be placed at 3rd index for 03/01, because Event 2 are placed at 2nd index for 02/01 and 03/01\n       *\n       */\n      let min = day.startOf('day')\n      const max = day.endOf('day')\n\n      /**\n       * Start of week should consider weekStartOn parameter instead of relying on day.startOf('week') which is locale affected\n       */\n      const startOfWeek = getStartOfWeek(day)\n\n      //filter all events that starts from the current week until the current day, and sort them by reverse starting time\n      let filteredEvents = events\n        .filter(({ start, end }) => dayjs(end).isAfter(startOfWeek) && dayjs(start).isBefore(max))\n        .sort((a, b) => {\n          if (dayjs(a.start).isSame(b.start, 'day')) {\n            const aDuration = dayjs.duration(dayjs(a.end).diff(dayjs(a.start))).days()\n            const bDuration = dayjs.duration(dayjs(b.end).diff(dayjs(b.start))).days()\n            return aDuration - bDuration\n          }\n          return b.start.getTime() - a.start.getTime()\n        })\n\n      /**\n       * find the most relevant min date to filter the events\n       * in the example:\n       * 1. when rendering for 01/01, min date will be 01/01 (start of day for event 1)\n       * 2. when rendering for 02/01, min date will be 01/01 (start of day for event 1)\n       * 3. when rendering for 03/01, min date will be 01/01 (start of day for event 1)\n       * 4. when rendering for 04/01, min date will be 01/01 (start of day for event 1)\n       * 5. when rendering for 05/01, min date will be 05/01 (no event overlaps with 05/01)\n       */\n      for (const { start, end } of filteredEvents) {\n        if (dayjs(end).isAfter(min) && dayjs(start).isBefore(min)) {\n          min = dayjs(start).startOf('day')\n        }\n      }\n\n      filteredEvents = filteredEvents\n        .filter(\n          ({ start, end }) => dayjs(end).endOf('day').isAfter(min) && dayjs(start).isBefore(max),\n        )\n        .reverse()\n      /**\n       * We move eligible event to the top\n       * For example, when rendering for 03/01, Event 3 should be moved to the top, since there is a gap left by Event 1\n       */\n      const finalEvents: T[] = []\n      let tmpDay: dayjs.Dayjs = startOfWeek\n      //re-sort events from the start of week until the calendar cell date\n      //optimize sorting of event nodes and make sure that no empty gaps are left on top of calendar cell\n      while (!tmpDay.isAfter(day)) {\n        for (const event of filteredEvents) {\n          if (\n            dayjs(event.end).isBefore(tmpDay.startOf('day')) ||\n            dayjs(event.end).isSame(tmpDay.startOf('day'))\n          ) {\n            const eventToMoveUp = filteredEvents.find((e) =>\n              dayjs(e.start).startOf('day').isSame(tmpDay.startOf('day')),\n            )\n            if (eventToMoveUp !== undefined) {\n              //remove eventToMoveUp from finalEvents first\n              if (finalEvents.indexOf(eventToMoveUp) > -1) {\n                finalEvents.splice(finalEvents.indexOf(eventToMoveUp), 1)\n              }\n\n              if (finalEvents.indexOf(event) > -1) {\n                finalEvents.splice(finalEvents.indexOf(event), 1, eventToMoveUp)\n              } else {\n                finalEvents.push(eventToMoveUp)\n              }\n            }\n          } else if (finalEvents.indexOf(event) === -1) {\n            finalEvents.push(event)\n          }\n        }\n\n        tmpDay = tmpDay.add(1, 'day')\n      }\n\n      return finalEvents\n    },\n    [events, sortedMonthView, getStartOfWeek],\n  )\n\n  const renderDateCell = (date: dayjs.Dayjs | null, index: number) => {\n    if (date && renderCustomDateForMonth) {\n      return renderCustomDateForMonth(date.toDate())\n    }\n\n    return (\n      <Text\n        style={[\n          { textAlign: 'center' },\n          theme.typography.sm,\n          {\n            color:\n              date?.format(SIMPLE_DATE_FORMAT) === now.format(SIMPLE_DATE_FORMAT)\n                ? theme.palette.primary.main\n                : date?.month() !== targetDate.month()\n                  ? theme.palette.gray['500']\n                  : theme.palette.gray['800'],\n          },\n          {\n            ...getCalendarCellTextStyle(date?.toDate(), index),\n          },\n        ]}\n      >\n        {date?.format('D')}\n      </Text>\n    )\n  }\n\n  return (\n    <View\n      style={[\n        {\n          height: containerHeight,\n        },\n        u['flex-column'],\n        u['flex-1'],\n        u['border-b'],\n        u['border-l'],\n        u['border-r'],\n        u.rounded,\n        { borderColor: theme.palette.gray['200'] },\n        style,\n      ]}\n      onLayout={({ nativeEvent: { layout } }) => {\n        setCalendarWidth(layout.width)\n      }}\n    >\n      {weeks.map((week, i) => (\n        <View\n          key={`${i}-${week.join('-')}`}\n          style={[\n            u['flex-1'],\n            theme.isRTL ? u['flex-row-reverse'] : u['flex-row'],\n            Platform.OS === 'android' && style, // TODO: in Android, backgroundColor is not applied to child components\n            {\n              minHeight: minCellHeight,\n            },\n          ]}\n        >\n          {showWeekNumber ? (\n            <View\n              style={[\n                i > 0 && u['border-t'],\n                { borderColor: theme.palette.gray['200'] },\n                u['p-2'],\n                u['w-20'],\n                u['flex-column'],\n                {\n                  minHeight: minCellHeight,\n                },\n              ]}\n              key={'weekNumber'}\n              {...calendarCellAccessibilityProps}\n            >\n              <Text\n                style={[\n                  { textAlign: 'center' },\n                  theme.typography.sm,\n                  {\n                    color: theme.palette.gray['800'],\n                  },\n                ]}\n              >\n                {week.length > 0\n                  ? targetDate.date(week[0]).startOf('week').add(4, 'days').isoWeek()\n                  : ''}\n              </Text>\n            </View>\n          ) : null}\n          {week\n            .map((d) =>\n              showAdjacentMonths ? targetDate.date(d) : d > 0 ? targetDate.date(d) : null,\n            )\n            .map((date, ii) => (\n              <TouchableOpacity\n                onLongPress={() => date && onLongPressCell && onLongPressCell(date.toDate())}\n                onPress={() => date && onPressCell && onPressCell(date.toDate())}\n                style={[\n                  i > 0 && u['border-t'],\n                  theme.isRTL && (ii > 0 || showWeekNumber) && u['border-r'],\n                  !theme.isRTL && (ii > 0 || showWeekNumber) && u['border-l'],\n                  { borderColor: theme.palette.gray['200'] },\n                  u['p-2'],\n                  u['flex-1'],\n                  u['flex-column'],\n                  {\n                    minHeight: minCellHeight,\n                    zIndex: ii * -1,\n                  },\n                  {\n                    ...getCalendarCellStyle(date?.toDate(), i),\n                  },\n                ]}\n                key={`${ii}-${date?.toDate()}`}\n                onLayout={({ nativeEvent: { layout } }) =>\n                  // Only set calendarCellHeight once because they are all same\n                  // Only set calendarCellHeight if disableMonthEventCellPress is true, since calendarCellHeihgt is only used when disableMonthEventCellPress is true\n                  i === 0 &&\n                  ii === 0 &&\n                  disableMonthEventCellPress &&\n                  setCalendarCellHeight(layout.height)\n                }\n                {...calendarCellAccessibilityPropsForMonthView}\n              >\n                <TouchableOpacity\n                  onPress={() =>\n                    date &&\n                    (onPressDateHeader\n                      ? onPressDateHeader(date.toDate())\n                      : onPressCell?.(date.toDate()))\n                  }\n                  onLongPress={() =>\n                    date &&\n                    (onPressDateHeader\n                      ? onPressDateHeader(date.toDate())\n                      : onLongPressCell?.(date.toDate()))\n                  }\n                  {...calendarCellAccessibilityProps}\n                >\n                  {renderDateCell(date, i)}\n                </TouchableOpacity>\n                {\n                  //Calendar body will re-render after calendarWidth/calendarCellHeight is set from layout event, prevent expensive operation during first render\n                  calendarWidth > 0 &&\n                    (!disableMonthEventCellPress || calendarCellHeight > 0) &&\n                    date &&\n                    sortedEvents(date).reduce(\n                      (elements, event, index, events) => [\n                        // biome-ignore lint/performance/noAccumulatingSpread: Acceptable to use spread operator here\n                        ...elements,\n                        index > maxVisibleEventCount ? null : index === maxVisibleEventCount ? (\n                          <Text\n                            key={`${index}-${event.start}-${event.title}-${event.end}`}\n                            style={[\n                              theme.typography.moreLabel,\n                              { marginTop: 2, color: theme.palette.moreLabel },\n                            ]}\n                            onPress={() => onPressMoreLabel?.(events, date.toDate())}\n                          >\n                            {moreLabel.replace(\n                              '{moreCount}',\n                              `${events.length - maxVisibleEventCount}`,\n                            )}\n                          </Text>\n                        ) : (\n                          <CalendarEventForMonthView\n                            key={`${index}-${event.start}-${event.title}-${event.end}`}\n                            event={event}\n                            eventCellStyle={eventCellStyle}\n                            eventCellAccessibilityProps={eventCellAccessibilityProps}\n                            onPressEvent={onPressEvent}\n                            renderEvent={renderEvent}\n                            date={date}\n                            dayOfTheWeek={ii}\n                            calendarWidth={calendarWidth}\n                            isRTL={theme.isRTL}\n                            eventMinHeightForMonthView={eventMinHeightForMonthView}\n                            showAdjacentMonths={showAdjacentMonths}\n                          />\n                        ),\n                      ],\n                      [] as (null | JSX.Element)[],\n                    )\n                }\n                {disableMonthEventCellPress &&\n                  calendarCellHeight > 0 && ( //if calendarCellHeight has not been set from layout event, then don't render the element since it will be 0 height\n                    /* In this case, we render `TouchableGradually` on the date cell to prevent event cell's touch events from being called. */\n                    <TouchableGradually\n                      style={{\n                        height: calendarCellHeight,\n                        width: Math.floor(calendarWidth / 7),\n                        position: 'absolute',\n                        top: 0,\n                        left: 0,\n                      }}\n                      onLongPress={() => date && onLongPressCell && onLongPressCell(date.toDate())}\n                      onPress={() => date && onPressCell && onPressCell(date.toDate())}\n                      {...calendarCellAccessibilityProps}\n                    />\n                  )}\n              </TouchableOpacity>\n            ))}\n        </View>\n      ))}\n    </View>\n  )\n}\n\nexport const CalendarBodyForMonthView = typedMemo(_CalendarBodyForMonthView)\n\n/**\n * A utility component which prevents event cells from being pressed in Month View.\n */\nfunction TouchableGradually({\n  onLongPress,\n  onPress,\n  style,\n}: {\n  style?: ViewStyle\n  onLongPress: () => void\n  onPress: () => void\n}) {\n  const backgroundColor = React.useRef(new Animated.Value(0)).current\n\n  const handlePressIn = () => {\n    Animated.timing(backgroundColor, {\n      toValue: 1,\n      duration: 200,\n      useNativeDriver: false,\n    }).start()\n  }\n\n  const handlePressOut = () => {\n    Animated.timing(backgroundColor, {\n      toValue: 0,\n      duration: 200,\n      useNativeDriver: false,\n    }).start()\n  }\n\n  return (\n    <TouchableHighlight\n      onLongPress={onLongPress}\n      onPressIn={handlePressIn}\n      onPressOut={handlePressOut}\n      onPress={onPress}\n      underlayColor=\"transparent\"\n      style={style}\n    >\n      <Animated.View\n        style={[\n          {\n            backgroundColor: backgroundColor.interpolate({\n              inputRange: [0, 1],\n              outputRange: ['rgba(0, 0, 0, 0)', 'rgba(0, 0, 0, 0.2)'],\n            }),\n          },\n          style,\n        ]}\n      />\n    </TouchableHighlight>\n  )\n}\n","import dayjs from 'dayjs'\nimport * as React from 'react'\nimport {\n  type AccessibilityProps,\n  Platform,\n  Text,\n  TouchableOpacity,\n  View,\n  type ViewStyle,\n} from 'react-native'\nimport { eventCellCss, u } from '../commonStyles'\nimport type { ICalendarEventBase } from '../interfaces'\nimport { useTheme } from '../theme/ThemeContext'\nimport { isToday } from '../utils/datetime'\nimport { objHasContent, stringHasContent } from '../utils/object'\nimport { typedMemo } from '../utils/react'\n\nexport interface CalendarHeaderProps<T extends ICalendarEventBase> {\n  dateRange: dayjs.Dayjs[]\n  cellHeight: number\n  locale: string\n  style: ViewStyle\n  allDayEventCellStyle: ViewStyle | ((event: T) => ViewStyle)\n  allDayEventCellTextColor: string\n  allDayEvents: T[]\n  onPressDateHeader?: (date: Date) => void\n  onPressEvent?: (event: T) => void\n  activeDate?: Date\n  headerContentStyle?: ViewStyle\n  dayHeaderStyle?: ViewStyle\n  dayHeaderHighlightColor?: string\n  weekDayHeaderHighlightColor?: string\n  showAllDayEventCell?: boolean\n  hideHours?: boolean\n  showWeekNumber?: boolean\n  weekNumberPrefix?: string\n  allDayEventCellAccessibilityProps?: AccessibilityProps\n  headerContainerAccessibilityProps?: AccessibilityProps\n  headerCellAccessibilityProps?: AccessibilityProps\n}\n\nfunction _CalendarHeader<T extends ICalendarEventBase>({\n  dateRange,\n  cellHeight,\n  style,\n  allDayEventCellStyle,\n  allDayEventCellTextColor,\n  allDayEvents,\n  onPressDateHeader,\n  onPressEvent,\n  activeDate,\n  headerContentStyle = {},\n  dayHeaderStyle = {},\n  dayHeaderHighlightColor = '',\n  weekDayHeaderHighlightColor = '',\n  showAllDayEventCell = true,\n  hideHours = false,\n  showWeekNumber = false,\n  weekNumberPrefix = '',\n  allDayEventCellAccessibilityProps = {},\n  headerContainerAccessibilityProps = {},\n  headerCellAccessibilityProps = {},\n}: CalendarHeaderProps<T>) {\n  const _onPressHeader = React.useCallback(\n    (date: Date) => {\n      onPressDateHeader?.(date)\n    },\n    [onPressDateHeader],\n  )\n\n  const _onPressEvent = React.useCallback(\n    (event: T) => {\n      onPressEvent?.(event)\n    },\n    [onPressEvent],\n  )\n\n  const theme = useTheme()\n\n  const borderColor = { borderColor: theme.palette.gray['200'] }\n  const primaryBg = { backgroundColor: theme.palette.primary.main }\n\n  return (\n    <View\n      style={[\n        showAllDayEventCell ? u['border-b-2'] : {},\n        showAllDayEventCell ? borderColor : {},\n        theme.isRTL ? u['flex-row-reverse'] : u['flex-row'],\n        style,\n      ]}\n      {...headerContainerAccessibilityProps}\n    >\n      {(!hideHours || showWeekNumber) && (\n        <View style={[u['z-10'], u['w-50'], u['pt-2'], borderColor]}>\n          {showWeekNumber ? (\n            <View\n              style={[\n                { height: cellHeight },\n                objHasContent(headerContentStyle) ? headerContentStyle : u['justify-between'],\n              ]}\n              {...headerCellAccessibilityProps}\n            >\n              <Text\n                style={[\n                  theme.typography.xs,\n                  u['text-center'],\n                  {\n                    color: theme.palette.gray['500'],\n                  },\n                ]}\n              >\n                {weekNumberPrefix}\n              </Text>\n              <View style={objHasContent(dayHeaderStyle) ? dayHeaderStyle : [u['mb-6']]}>\n                <Text\n                  style={[\n                    {\n                      color: theme.palette.gray['800'],\n                    },\n                    theme.typography.xl,\n                    u['text-center'],\n                  ]}\n                >\n                  {dateRange.length > 0\n                    ? dateRange[0].startOf('week').add(4, 'days').isoWeek()\n                    : ''}\n                </Text>\n              </View>\n            </View>\n          ) : null}\n        </View>\n      )}\n      {dateRange.map((date) => {\n        const shouldHighlight = activeDate ? date.isSame(activeDate, 'date') : isToday(date)\n\n        return (\n          <TouchableOpacity\n            style={[u['flex-1'], u['pt-2']]}\n            onPress={() => _onPressHeader(date.toDate())}\n            disabled={onPressDateHeader === undefined}\n            key={date.toString()}\n            {...headerCellAccessibilityProps}\n          >\n            <View\n              style={[\n                { height: cellHeight },\n                objHasContent(headerContentStyle) ? headerContentStyle : u['justify-between'],\n              ]}\n            >\n              <Text\n                style={[\n                  theme.typography.xs,\n                  u['text-center'],\n                  {\n                    color: shouldHighlight\n                      ? stringHasContent(weekDayHeaderHighlightColor)\n                        ? weekDayHeaderHighlightColor\n                        : theme.palette.primary.main\n                      : theme.palette.gray['500'],\n                  },\n                ]}\n              >\n                {date.format('ddd')}\n              </Text>\n              <View\n                style={\n                  objHasContent(dayHeaderStyle)\n                    ? dayHeaderStyle\n                    : shouldHighlight\n                      ? [\n                          primaryBg,\n                          u['h-36'],\n                          u['w-36'],\n                          u['pb-6'],\n                          u['rounded-full'],\n                          u['items-center'],\n                          u['justify-center'],\n                          u['self-center'],\n                          u['z-20'],\n                        ]\n                      : [u['mb-6']]\n                }\n              >\n                <Text\n                  style={[\n                    {\n                      color: shouldHighlight\n                        ? stringHasContent(dayHeaderHighlightColor)\n                          ? dayHeaderHighlightColor\n                          : theme.palette.primary.contrastText\n                        : theme.palette.gray['800'],\n                    },\n                    theme.typography.xl,\n                    u['text-center'],\n                    Platform.OS === 'web' &&\n                      shouldHighlight &&\n                      !stringHasContent(dayHeaderHighlightColor) &&\n                      u['mt-6'],\n                  ]}\n                >\n                  {date.format('D')}\n                </Text>\n              </View>\n            </View>\n            {showAllDayEventCell ? (\n              <View\n                style={[\n                  u['border-l'],\n                  { borderColor: theme.palette.gray['200'] },\n                  { height: cellHeight },\n                ]}\n              >\n                {allDayEvents.map((event, index) => {\n                  if (!dayjs(date).isBetween(event.start, event.end, 'day', '[]')) {\n                    return null\n                  }\n\n                  const getEventStyle =\n                    typeof allDayEventCellStyle === 'function'\n                      ? allDayEventCellStyle\n                      : () => allDayEventCellStyle\n\n                  return (\n                    <TouchableOpacity\n                      style={[eventCellCss.style, primaryBg, u['mt-2'], getEventStyle(event)]}\n                      key={`${index}-${event.start}-${event.title}-${event.end}`}\n                      onPress={() => _onPressEvent(event)}\n                      {...allDayEventCellAccessibilityProps}\n                    >\n                      <Text\n                        style={{\n                          fontSize: theme.typography.sm.fontSize,\n                          color: allDayEventCellTextColor || theme.palette.primary.contrastText,\n                        }}\n                      >\n                        {event.title}\n                      </Text>\n                    </TouchableOpacity>\n                  )\n                })}\n              </View>\n            ) : null}\n          </TouchableOpacity>\n        )\n      })}\n    </View>\n  )\n}\n\nexport const CalendarHeader = typedMemo(_CalendarHeader)\n","import dayjs from 'dayjs'\nimport * as React from 'react'\nimport { type AccessibilityProps, Text, View, type ViewStyle } from 'react-native'\n\nimport { u } from '../commonStyles'\nimport type { WeekNum } from '../interfaces'\nimport { useTheme } from '../theme/ThemeContext'\nimport { getDatesInWeek } from '../utils/datetime'\nimport { typedMemo } from '../utils/react'\n\nexport interface CalendarHeaderForMonthViewProps {\n  weekStartsOn: WeekNum\n  locale: string\n  style: ViewStyle\n  showWeekNumber?: boolean\n  weekNumberPrefix?: string\n  headerContainerAccessibilityProps?: AccessibilityProps\n  headerCellAccessibilityProps?: AccessibilityProps\n  dateRange: dayjs.Dayjs[]\n}\n\nfunction _CalendarHeaderForMonthView({\n  locale,\n  weekStartsOn,\n  style,\n  showWeekNumber = false,\n  weekNumberPrefix = '',\n  headerContainerAccessibilityProps = {},\n  headerCellAccessibilityProps = {},\n}: CalendarHeaderForMonthViewProps) {\n  const dates = getDatesInWeek(new Date(), weekStartsOn, locale)\n  const todayWeekNum = dayjs().day()\n\n  const theme = useTheme()\n\n  return (\n    <View\n      style={[\n        u['border-b'],\n        { borderColor: theme.palette.gray['100'] },\n        theme.isRTL ? u['flex-row-reverse'] : u['flex-row'],\n        style,\n      ]}\n      {...headerContainerAccessibilityProps}\n    >\n      {showWeekNumber ? (\n        <View\n          style={[u['w-20'], { paddingTop: 2 }]}\n          key={'weekNumber'}\n          {...headerCellAccessibilityProps}\n        >\n          <View style={{ flex: 1, height: 30 }}>\n            <Text\n              style={[\n                u['text-center'],\n                {\n                  color: theme.palette.gray['800'],\n                },\n              ]}\n            >\n              {weekNumberPrefix !== undefined ? weekNumberPrefix : ''}\n            </Text>\n          </View>\n        </View>\n      ) : null}\n      {dates.map((date) => (\n        <View\n          style={{ flex: 1, paddingTop: 2 }}\n          key={date.toISOString()}\n          {...headerCellAccessibilityProps}\n        >\n          <View style={{ height: 30 }}>\n            <Text\n              style={[\n                u['text-center'],\n                {\n                  color:\n                    todayWeekNum === date.day()\n                      ? theme.palette.primary.main\n                      : theme.palette.gray['800'],\n                },\n              ]}\n            >\n              {date.format('ddd')}\n            </Text>\n          </View>\n        </View>\n      ))}\n    </View>\n  )\n}\n\nexport const CalendarHeaderForMonthView = typedMemo(_CalendarHeaderForMonthView)\n","import dayjs from 'dayjs'\nimport React from 'react'\nimport {\n  type AccessibilityProps,\n  FlatList,\n  Platform,\n  Text,\n  type TextStyle,\n  View,\n  type ViewStyle,\n} from 'react-native'\n\nimport { u } from '../commonStyles'\nimport type {\n  CalendarCellStyle,\n  EventCellStyle,\n  EventRenderer,\n  HorizontalDirection,\n  ICalendarEventBase,\n} from '../interfaces'\nimport { useTheme } from '../theme/ThemeContext'\nimport {\n  SIMPLE_DATE_FORMAT,\n  getCountOfEventsAtEvent,\n  getOrderOfEvent,\n  isToday,\n} from '../utils/datetime'\nimport { stringHasContent } from '../utils/object'\nimport { typedMemo } from '../utils/react'\nimport { CalendarEvent } from './CalendarEvent'\n\ninterface ScheduleProps<T extends ICalendarEventBase> {\n  events: T[]\n  cellHeight: number\n  containerHeight: number\n  dateRange: dayjs.Dayjs[]\n  scrollOffsetMinutes: number\n  ampm: boolean\n  showTime: boolean\n  style: ViewStyle\n  eventCellStyle?: EventCellStyle<T>\n  eventCellAccessibilityProps?: AccessibilityProps\n  calendarCellStyle?: CalendarCellStyle\n  calendarCellAccessibilityProps?: AccessibilityProps\n  hideNowIndicator?: boolean\n  overlapOffset?: number\n  onLongPressCell?: (date: Date) => void\n  onPressCell?: (date: Date) => void\n  onPressEvent?: (event: T) => void\n  onSwipeHorizontal?: (d: HorizontalDirection) => void\n  renderEvent?: EventRenderer<T>\n  headerComponent?: React.ReactElement | null\n  headerComponentStyle?: ViewStyle\n  hourStyle?: TextStyle\n  hideHours?: boolean\n  isEventOrderingEnabled?: boolean\n  showVerticalScrollIndicator?: boolean\n  activeDate?: Date\n  weekDayHeaderHighlightColor?: string\n  dayHeaderHighlightColor?: string\n  itemSeparatorComponent?:\n    | React.ComponentType<{\n        highlighted: boolean\n      }>\n    | null\n    | undefined\n  locale: string\n  scheduleMonthSeparatorStyle?: TextStyle\n}\n\nfunction _Schedule<T extends ICalendarEventBase>({\n  events,\n  ampm,\n  onPressEvent,\n  eventCellStyle,\n  eventCellAccessibilityProps = {},\n  showTime,\n  isEventOrderingEnabled,\n  overlapOffset,\n  renderEvent,\n  containerHeight,\n  style,\n  activeDate,\n  weekDayHeaderHighlightColor = '',\n  dayHeaderHighlightColor = '',\n  itemSeparatorComponent,\n  locale,\n  calendarCellAccessibilityProps = {},\n  scheduleMonthSeparatorStyle,\n}: ScheduleProps<T>) {\n  const theme = useTheme()\n\n  /**\n   * Bind default style for eventCellStyle.\n   */\n  const eventStyles = React.useCallback(\n    (event: T) => {\n      // This default style  need for Schedule view\n      const defaultEventStyle = {\n        ...u['flex-column'],\n        ...u['h-50'],\n      }\n\n      if (Array.isArray(eventCellStyle)) {\n        return [...[defaultEventStyle], ...eventCellStyle]\n      }\n      if (typeof eventCellStyle === 'object') {\n        return { ...defaultEventStyle, ...eventCellStyle }\n      }\n      if (typeof eventCellStyle === 'function') {\n        const output = eventCellStyle(event)\n        if (Array.isArray(output)) {\n          return [...[defaultEventStyle], ...output]\n        }\n        if (typeof output === 'object') {\n          return { ...defaultEventStyle, ...output }\n        }\n      }\n      return defaultEventStyle\n    },\n    [eventCellStyle],\n  )\n\n  /**\n   * Group by events by start date.\n   */\n  const getItem = React.useMemo((): T[][] => {\n    const groupedData = events\n      .sort((a, b) => dayjs(a.start).diff(b.start))\n      .reduce((result: Record<string, T[]>, item: T): Record<string, T[]> => {\n        const startDate = dayjs(item.start).format(SIMPLE_DATE_FORMAT)\n        if (!result[startDate]) {\n          result[startDate] = []\n        }\n        result[startDate].push(item)\n        return result\n      }, {})\n\n    return Object.values(groupedData)\n  }, [events])\n\n  const renderMonthSeparator = (date: dayjs.Dayjs): JSX.Element => (\n    <View style={{ width: '100%' }}>\n      <Text\n        style={[\n          { color: theme.palette.primary.main, textAlign: 'center', paddingVertical: 6 },\n          scheduleMonthSeparatorStyle,\n        ]}\n      >\n        {date.format('MMMM YYYY')}\n      </Text>\n    </View>\n  )\n\n  const renderFlatListItem = (eventGroup: T[], index: number): JSX.Element => {\n    const date = dayjs(eventGroup[0].start).locale(locale)\n    const shouldHighlight = activeDate ? date.isSame(activeDate, 'date') : isToday(date)\n    const isNewMonth =\n      index === 0 || !dayjs(eventGroup[0].start).isSame(getItem[index - 1][0].start, 'month')\n\n    return (\n      <View style={[u.flex, { padding: 2, flexWrap: 'wrap' }]}>\n        {isNewMonth && renderMonthSeparator(date)}\n        <View style={[u.flex, u['justify-center'], { width: '20%' }]}>\n          <View\n            style={[\n              { width: 60, height: 60, borderRadius: 30 },\n              u.flex,\n              u['justify-center'],\n              u['items-center'],\n              u['flex-column-reverse'],\n            ]}\n            {...calendarCellAccessibilityProps}\n          >\n            <Text\n              style={[\n                {\n                  color: shouldHighlight\n                    ? stringHasContent(dayHeaderHighlightColor)\n                      ? dayHeaderHighlightColor\n                      : theme.palette.primary.main\n                    : theme.palette.gray['800'],\n                },\n\n                theme.typography.xl,\n                u['text-center'],\n                Platform.OS === 'web' &&\n                  shouldHighlight &&\n                  !stringHasContent(dayHeaderHighlightColor) &&\n                  u['mt-6'],\n              ]}\n            >\n              {date.format('D')}\n            </Text>\n            <Text\n              style={[\n                theme.typography.xs,\n                {\n                  color: shouldHighlight\n                    ? stringHasContent(weekDayHeaderHighlightColor)\n                      ? weekDayHeaderHighlightColor\n                      : theme.palette.primary.main\n                    : theme.palette.gray['500'],\n                },\n              ]}\n            >\n              {date.format('ddd')}\n            </Text>\n          </View>\n        </View>\n        <View style={[u.flex, u['flex-column'], { width: '75%' }]}>\n          {eventGroup.map((event: T, index) => {\n            return (\n              <View\n                style={[u['flex-1'], u['overflow-hidden'], { marginTop: 2, marginBottom: 2 }]}\n                key={`${index}-${event.start}-${event.title}-${event.end}`}\n              >\n                <CalendarEvent\n                  key={`${index}${event.start}${event.title}${event.end}`}\n                  event={event}\n                  onPressEvent={onPressEvent}\n                  eventCellStyle={eventStyles}\n                  eventCellAccessibilityProps={eventCellAccessibilityProps}\n                  showTime={showTime}\n                  eventCount={\n                    isEventOrderingEnabled ? getCountOfEventsAtEvent(event, events) : undefined\n                  }\n                  eventOrder={isEventOrderingEnabled ? getOrderOfEvent(event, events) : undefined}\n                  overlapOffset={overlapOffset}\n                  renderEvent={renderEvent}\n                  ampm={ampm}\n                  mode=\"schedule\"\n                />\n              </View>\n            )\n          })}\n        </View>\n      </View>\n    )\n  }\n\n  return (\n    <View style={{ ...style, height: containerHeight }}>\n      <FlatList\n        data={getItem}\n        renderItem={({ item }: { item: T[] }) => renderFlatListItem(item, getItem.indexOf(item))}\n        ItemSeparatorComponent={itemSeparatorComponent}\n        keyExtractor={(_, index) => index.toString()}\n      />\n    </View>\n  )\n}\n\nexport const Schedule = typedMemo(_Schedule)\n","import dayjs from 'dayjs'\nimport React, { useRef } from 'react'\nimport type { AccessibilityProps, TextStyle, ViewStyle } from 'react-native'\nimport InfinitePager, { type InfinitePagerImperativeApi } from 'react-native-infinite-pager'\n\nimport { MIN_HEIGHT } from '../commonStyles'\nimport type {\n  AllDayEventCellStyle,\n  CalendarCellStyle,\n  CalendarCellTextStyle,\n  DateRangeHandler,\n  EventCellStyle,\n  EventRenderer,\n  HeaderRenderer,\n  HorizontalDirection,\n  HourRenderer,\n  ICalendarEventBase,\n  Mode,\n  MonthHeaderRenderer,\n  WeekNum,\n} from '../interfaces'\nimport { useTheme } from '../theme/ThemeContext'\nimport {\n  getDatesInMonth,\n  getDatesInNextCustomDays,\n  getDatesInNextOneDay,\n  getDatesInNextThreeDays,\n  getDatesInWeek,\n  isAllDayEvent,\n  modeToNum,\n} from '../utils/datetime'\nimport { typedMemo } from '../utils/react'\nimport { CalendarBody } from './CalendarBody'\nimport { CalendarBodyForMonthView } from './CalendarBodyForMonthView'\nimport { CalendarHeader } from './CalendarHeader'\nimport { CalendarHeaderForMonthView } from './CalendarHeaderForMonthView'\nimport { Schedule } from './Schedule'\n\nexport interface CalendarContainerProps<T extends ICalendarEventBase> {\n  /**\n   * To remove Hours Column from week View.\n   */\n  hideHours?: boolean\n  /**\n   * Events to be rendered. This is a required prop.\n   */\n  events: T[]\n\n  /**\n   * The height of calendar component. This is a required prop.\n   */\n  height: number\n\n  /**\n   * The height of each hour row.\n   */\n  hourRowHeight?: number\n\n  /**\n   * Adjusts the indentation of events that occur during the same time period. Defaults to 20 on web and 8 on mobile.\n   */\n  overlapOffset?: number\n\n  /**\n   * Custom style. It accepts styles or an array of styles, or a function that returns styles or an array of styles.\n   */\n  eventCellStyle?: EventCellStyle<T>\n  eventCellTextColor?: string\n  eventCellAccessibilityProps?: AccessibilityProps\n  allDayEventCellStyle?: AllDayEventCellStyle<T>\n  allDayEventCellTextColor?: string\n  allDayEventCellAccessibilityProps?: AccessibilityProps\n  calendarCellStyle?: CalendarCellStyle\n  calendarCellTextStyle?: CalendarCellTextStyle\n  calendarCellAccessibilityProps?: AccessibilityProps\n  calendarCellAccessibilityPropsForMonthView?: AccessibilityProps\n  calendarContainerStyle?: ViewStyle\n  headerContainerStyle?: ViewStyle\n  headerContainerAccessibilityProps?: AccessibilityProps\n  headerContentStyle?: ViewStyle\n  headerCellAccessibilityProps?: AccessibilityProps\n  dayHeaderStyle?: ViewStyle\n  dayHeaderHighlightColor?: string\n  weekDayHeaderHighlightColor?: string\n  bodyContainerStyle?: ViewStyle\n\n  // Custom renderer\n  renderEvent?: EventRenderer<T>\n  renderHeader?: HeaderRenderer<T>\n  renderHeaderForMonthView?: MonthHeaderRenderer\n  renderCustomDateForMonth?: (date: Date) => React.ReactElement | null\n\n  ampm?: boolean\n  date?: Date\n  locale?: string\n  hideNowIndicator?: boolean\n  showAdjacentMonths?: boolean\n  mode?: Mode\n  scrollOffsetMinutes?: number\n  showTime?: boolean\n  minHour?: number\n  maxHour?: number\n  swipeEnabled?: boolean\n  weekStartsOn?: WeekNum\n  onChangeDate?: DateRangeHandler\n  onLongPressCell?: (date: Date) => void\n  onPressCell?: (date: Date) => void\n  onPressDateHeader?: (date: Date) => void\n  onPressEvent?: (event: T) => void\n  weekEndsOn?: WeekNum\n  maxVisibleEventCount?: number\n  eventMinHeightForMonthView?: number\n  activeDate?: Date\n  headerComponent?: React.ReactElement | null\n  headerComponentStyle?: ViewStyle\n  hourStyle?: TextStyle\n  showAllDayEventCell?: boolean\n  sortedMonthView?: boolean\n  moreLabel?: string\n  isEventOrderingEnabled?: boolean\n\n  //Week Number\n  showWeekNumber?: boolean\n  weekNumberPrefix?: string\n  onPressMoreLabel?: (event: T[]) => void\n  disableMonthEventCellPress?: boolean\n  showVerticalScrollIndicator?: boolean\n  itemSeparatorComponent?:\n    | React.ComponentType<{\n        highlighted: boolean\n      }>\n    | null\n    | undefined\n  /**\n   * Callback when the user swipes horizontally.\n   * Note: Memoize this callback to avoid un-necessary re-renders.\n   * @param date The date where the user swiped to.\n   */\n  onSwipeEnd?: (date: Date) => void\n  /**\n   * If provided, we will skip the internal process of building the enriched events by date dictionary.\n   */\n  enrichedEventsByDate?: Record<string, T[]>\n  /**\n   * If true, the events will be enriched with the following properties:\n   * - `overlapPosition`: position of the event in the stack of overlapping events\n   * Default value is `false`.\n   */\n  enableEnrichedEvents?: boolean\n  /**\n   * If true, skip the sorting of events improving the performance.\n   * This parameter is ignored if `enableEnrichedEvents` is `false`.\n   * Default value is `false`.\n   */\n  eventsAreSorted?: boolean\n  timeslots?: number\n  hourComponent?: HourRenderer\n  scheduleMonthSeparatorStyle?: TextStyle\n}\n\nfunction _CalendarContainer<T extends ICalendarEventBase>({\n  events,\n  height,\n  hourRowHeight,\n  ampm = false,\n  date,\n  allDayEventCellStyle = {},\n  allDayEventCellTextColor = '',\n  allDayEventCellAccessibilityProps = {},\n  eventCellStyle,\n  eventCellTextColor = '',\n  eventCellAccessibilityProps = {},\n  calendarCellAccessibilityPropsForMonthView = {},\n  calendarCellStyle,\n  calendarCellTextStyle,\n  calendarCellAccessibilityProps = {},\n  locale = 'en',\n  hideNowIndicator = false,\n  mode = 'week',\n  overlapOffset,\n  scrollOffsetMinutes = 0,\n  showTime = true,\n  headerContainerStyle = {},\n  headerContainerAccessibilityProps = {},\n  headerContentStyle = {},\n  headerCellAccessibilityProps = {},\n  dayHeaderStyle = {},\n  dayHeaderHighlightColor = '',\n  weekDayHeaderHighlightColor = '',\n  bodyContainerStyle = {},\n  swipeEnabled = true,\n  weekStartsOn = 0,\n  onChangeDate,\n  onLongPressCell,\n  onPressCell,\n  onPressDateHeader,\n  onPressEvent,\n  renderEvent,\n  renderHeader: HeaderComponent = CalendarHeader,\n  renderHeaderForMonthView: HeaderComponentForMonthView = CalendarHeaderForMonthView,\n  weekEndsOn = 6,\n  maxVisibleEventCount = 3,\n  eventMinHeightForMonthView = 22,\n  activeDate,\n  headerComponent = null,\n  headerComponentStyle = {},\n  hourStyle = {},\n  showAllDayEventCell = true,\n  moreLabel = '{moreCount} More',\n  showAdjacentMonths = true,\n  sortedMonthView = true,\n  hideHours = false,\n  minHour = 0,\n  maxHour = 23,\n  isEventOrderingEnabled,\n  showWeekNumber = false,\n  weekNumberPrefix = '',\n  onPressMoreLabel,\n  renderCustomDateForMonth,\n  disableMonthEventCellPress = false,\n  showVerticalScrollIndicator = false,\n  itemSeparatorComponent = null,\n  enrichedEventsByDate,\n  enableEnrichedEvents = false,\n  eventsAreSorted = false,\n  onSwipeEnd,\n  timeslots = 0,\n  hourComponent,\n  scheduleMonthSeparatorStyle = {},\n}: CalendarContainerProps<T>) {\n  // To ensure we have proper effect callback, use string to date comparision.\n  const dateString = date?.toString()\n\n  const calendarRef = useRef<InfinitePagerImperativeApi>(null)\n\n  const [targetDate, setTargetDate] = React.useState(() => dayjs(date))\n\n  React.useEffect(() => {\n    if (dateString) {\n      setTargetDate(dayjs(dateString))\n    }\n  }, [dateString]) // if setting `[date]`, it will triggered twice\n\n  React.useEffect(() => {\n    calendarRef.current?.setPage(0, { animated: false })\n  }, [])\n\n  const allDayEvents = React.useMemo(\n    () => events.filter((event) => isAllDayEvent(event.start, event.end)),\n    [events],\n  )\n\n  const daytimeEvents = React.useMemo(\n    () => events.filter((event) => !isAllDayEvent(event.start, event.end)),\n    [events],\n  )\n\n  const getDateRange = React.useCallback(\n    (date: string | dayjs.Dayjs) => {\n      switch (mode) {\n        case 'month':\n          return getDatesInMonth(date, locale)\n        case 'week':\n          return getDatesInWeek(date, weekStartsOn, locale)\n        case '3days':\n          return getDatesInNextThreeDays(date, locale)\n        case 'day':\n          return getDatesInNextOneDay(date, locale)\n        case 'custom':\n          return getDatesInNextCustomDays(date, weekStartsOn, weekEndsOn, locale)\n        case 'schedule': // TODO: this will update\n          return getDatesInMonth(date, locale)\n        default:\n          throw new Error(\n            `[react-native-big-calendar] The mode which you specified \"${mode}\" is not supported.`,\n          )\n      }\n    },\n    [mode, locale, weekEndsOn, weekStartsOn],\n  )\n\n  if (minHour < 0) {\n    throw new Error('minHour should be 0 or greater')\n  }\n  if (maxHour > 23) {\n    throw new Error('maxHour should be less that 24')\n  }\n  if (minHour >= maxHour) {\n    throw new Error('minHour should be less than maxHour')\n  }\n\n  const cellHeight = React.useMemo(\n    () => hourRowHeight || Math.max(height - 30, MIN_HEIGHT) / 24,\n    [height, hourRowHeight],\n  )\n\n  const theme = useTheme()\n\n  const onSwipeHorizontal = React.useCallback(\n    (direction: HorizontalDirection) => {\n      if (!swipeEnabled) {\n        return\n      }\n      let nextTargetDate: dayjs.Dayjs\n      if ((direction === 'LEFT' && !theme.isRTL) || (direction === 'RIGHT' && theme.isRTL)) {\n        nextTargetDate = targetDate.add(modeToNum(mode, targetDate), 'day')\n      } else {\n        if (mode === 'month') {\n          nextTargetDate = targetDate.add(targetDate.date() * -1, 'day')\n        } else {\n          nextTargetDate = targetDate.add(modeToNum(mode, targetDate) * -1, 'day')\n        }\n      }\n      setTargetDate(nextTargetDate)\n      onSwipeEnd?.(nextTargetDate.toDate())\n    },\n    [swipeEnabled, theme.isRTL, onSwipeEnd, targetDate, mode],\n  )\n\n  React.useEffect(() => {\n    if (dateString && onChangeDate) {\n      const dateRange = getDateRange(dateString)\n      onChangeDate([dateRange[0].toDate(), dateRange[dateRange.length - 1].toDate()])\n    }\n  }, [dateString, onChangeDate, getDateRange])\n\n  const getCurrentDate = React.useCallback(\n    (page: number) => {\n      return targetDate.add(modeToNum(mode, targetDate, page), 'day')\n    },\n    [mode, targetDate],\n  )\n\n  const commonProps = {\n    cellHeight,\n    dateRange: getDateRange(targetDate),\n    mode,\n    onPressEvent,\n    hideHours,\n    showWeekNumber,\n  }\n\n  if (mode === 'month') {\n    const headerProps = {\n      style: headerContainerStyle,\n      headerContainerAccessibilityProps: headerContainerAccessibilityProps,\n      locale: locale,\n      weekStartsOn: weekStartsOn,\n      headerContentStyle: headerContentStyle,\n      headerCellAccessibilityProps: headerCellAccessibilityProps,\n      dayHeaderStyle: dayHeaderStyle,\n      dayHeaderHighlightColor: dayHeaderHighlightColor,\n      weekDayHeaderHighlightColor: weekDayHeaderHighlightColor,\n      showAllDayEventCell: showAllDayEventCell,\n      showWeekNumber: showWeekNumber,\n      weekNumberPrefix: weekNumberPrefix,\n    }\n    return (\n      <InfinitePager\n        ref={calendarRef}\n        style={{ flex: 1 }}\n        pageWrapperStyle={{ flex: 1 }}\n        renderPage={({ index }) => (\n          <React.Fragment>\n            <HeaderComponentForMonthView\n              {...headerProps}\n              dateRange={getDateRange(getCurrentDate(index))}\n            />\n            <CalendarBodyForMonthView<T>\n              {...commonProps}\n              style={bodyContainerStyle}\n              containerHeight={height}\n              events={[...daytimeEvents, ...allDayEvents]}\n              eventCellStyle={eventCellStyle}\n              eventCellAccessibilityProps={eventCellAccessibilityProps}\n              calendarCellStyle={calendarCellStyle}\n              calendarCellAccessibilityProps={calendarCellAccessibilityProps}\n              calendarCellAccessibilityPropsForMonthView={\n                calendarCellAccessibilityPropsForMonthView\n              }\n              calendarCellTextStyle={calendarCellTextStyle}\n              weekStartsOn={weekStartsOn}\n              hideNowIndicator={hideNowIndicator}\n              showAdjacentMonths={showAdjacentMonths}\n              onLongPressCell={onLongPressCell}\n              onPressCell={(date) => {\n                onPressCell?.(date)\n                calendarRef.current?.setPage(0, { animated: true })\n              }}\n              onPressDateHeader={onPressDateHeader}\n              onPressEvent={onPressEvent}\n              renderEvent={renderEvent}\n              targetDate={getCurrentDate(index)}\n              maxVisibleEventCount={maxVisibleEventCount}\n              eventMinHeightForMonthView={eventMinHeightForMonthView}\n              sortedMonthView={sortedMonthView}\n              moreLabel={moreLabel}\n              onPressMoreLabel={onPressMoreLabel}\n              renderCustomDateForMonth={renderCustomDateForMonth}\n              disableMonthEventCellPress={disableMonthEventCellPress}\n            />\n          </React.Fragment>\n        )}\n        onPageChange={(page) => onSwipeEnd?.(getCurrentDate(page).toDate())}\n        pageBuffer={2}\n      />\n    )\n  }\n\n  const headerProps = {\n    ...commonProps,\n    style: headerContainerStyle,\n    headerContainerAccessibilityProps: headerContainerAccessibilityProps,\n    locale,\n    allDayEventCellStyle,\n    allDayEventCellTextColor,\n    allDayEvents: allDayEvents,\n    allDayEventCellAccessibilityProps: allDayEventCellAccessibilityProps,\n    onPressDateHeader: onPressDateHeader,\n    activeDate,\n    headerContentStyle: headerContentStyle,\n    headerCellAccessibilityProps: headerCellAccessibilityProps,\n    dayHeaderStyle: dayHeaderStyle,\n    dayHeaderHighlightColor: dayHeaderHighlightColor,\n    weekDayHeaderHighlightColor: weekDayHeaderHighlightColor,\n    showAllDayEventCell: showAllDayEventCell,\n    weekNumberPrefix: weekNumberPrefix,\n  }\n\n  if (mode === 'schedule') {\n    return (\n      <Schedule\n        events={[...daytimeEvents, ...allDayEvents]}\n        {...headerProps}\n        style={bodyContainerStyle}\n        containerHeight={height}\n        eventCellStyle={eventCellStyle}\n        calendarCellStyle={calendarCellStyle}\n        calendarCellAccessibilityProps={calendarCellAccessibilityProps}\n        hideNowIndicator={hideNowIndicator}\n        overlapOffset={overlapOffset}\n        scrollOffsetMinutes={scrollOffsetMinutes}\n        ampm={ampm}\n        showTime={showTime}\n        onLongPressCell={onLongPressCell}\n        onPressCell={onPressCell}\n        onPressEvent={onPressEvent}\n        onSwipeHorizontal={onSwipeHorizontal}\n        renderEvent={renderEvent}\n        headerComponent={headerComponent}\n        headerComponentStyle={headerComponentStyle}\n        hourStyle={hourStyle}\n        isEventOrderingEnabled={isEventOrderingEnabled}\n        showVerticalScrollIndicator={showVerticalScrollIndicator}\n        itemSeparatorComponent={itemSeparatorComponent}\n        scheduleMonthSeparatorStyle={scheduleMonthSeparatorStyle}\n      />\n    )\n  }\n\n  return (\n    <InfinitePager\n      ref={calendarRef}\n      renderPage={({ index }) => (\n        <React.Fragment>\n          <HeaderComponent {...headerProps} dateRange={getDateRange(getCurrentDate(index))} />\n          <CalendarBody\n            {...commonProps}\n            dateRange={getDateRange(getCurrentDate(index))}\n            style={bodyContainerStyle}\n            containerHeight={height}\n            events={daytimeEvents}\n            eventCellStyle={eventCellStyle}\n            eventCellAccessibilityProps={eventCellAccessibilityProps}\n            eventCellTextColor={eventCellTextColor}\n            calendarCellStyle={calendarCellStyle}\n            calendarCellAccessibilityProps={calendarCellAccessibilityProps}\n            hideNowIndicator={hideNowIndicator}\n            overlapOffset={overlapOffset}\n            scrollOffsetMinutes={scrollOffsetMinutes}\n            ampm={ampm}\n            minHour={minHour}\n            maxHour={maxHour}\n            showTime={showTime}\n            onLongPressCell={onLongPressCell}\n            onPressCell={(date) => {\n              onPressCell?.(date)\n\n              if (mode !== 'day') {\n                calendarRef.current?.setPage(0, { animated: true })\n              }\n            }}\n            onPressEvent={onPressEvent}\n            renderEvent={renderEvent}\n            headerComponent={headerComponent}\n            headerComponentStyle={headerComponentStyle}\n            hourStyle={hourStyle}\n            isEventOrderingEnabled={isEventOrderingEnabled}\n            showVerticalScrollIndicator={showVerticalScrollIndicator}\n            enrichedEventsByDate={enrichedEventsByDate}\n            enableEnrichedEvents={enableEnrichedEvents}\n            eventsAreSorted={eventsAreSorted}\n            timeslots={timeslots}\n            hourComponent={hourComponent}\n          />\n        </React.Fragment>\n      )}\n      onPageChange={(page) => onSwipeEnd?.(getCurrentDate(page).toDate())}\n      pageBuffer={2}\n    />\n  )\n}\n\nexport const CalendarContainer = typedMemo(_CalendarContainer)\n","import dayjs from 'dayjs'\nimport isBetween from 'dayjs/plugin/isBetween'\nimport React from 'react'\n\nimport type { ICalendarEventBase } from '../interfaces'\nimport { ThemeContext } from '../theme/ThemeContext'\nimport type { ThemeInterface } from '../theme/ThemeInterface'\nimport { defaultTheme } from '../theme/defaultTheme'\nimport { deepMerge } from '../utils/object'\nimport { typedMemo } from '../utils/react'\nimport type { DeepPartial } from '../utils/utility-types'\nimport { CalendarContainer, type CalendarContainerProps } from './CalendarContainer'\n\nexport interface CalendarProps<T extends ICalendarEventBase> extends CalendarContainerProps<T> {\n  theme?: DeepPartial<ThemeInterface>\n  isRTL?: boolean\n}\n\ndayjs.extend(isBetween)\n\nfunction _Calendar<T extends ICalendarEventBase>({\n  theme = defaultTheme,\n  isRTL,\n  ...props\n}: CalendarProps<T>) {\n  const _theme = deepMerge(defaultTheme, theme) as ThemeInterface\n  // TODO: Old prop support. This should be included in custom theme itself.\n  if (isRTL !== undefined) {\n    _theme.isRTL = isRTL\n  }\n  return (\n    <ThemeContext.Provider value={_theme}>\n      <CalendarContainer {...props} />\n    </ThemeContext.Provider>\n  )\n}\n\nexport const Calendar = typedMemo(_Calendar)\n","import dayjs from 'dayjs'\nimport duration from 'dayjs/plugin/duration'\nimport isBetween from 'dayjs/plugin/isBetween'\nimport isoWeek from 'dayjs/plugin/isoWeek'\n\ndayjs.extend(duration)\ndayjs.extend(isBetween)\ndayjs.extend(isoWeek)\n\nexport * from './components/Calendar'\nexport * from './components/CalendarBody'\nexport * from './components/CalendarBodyForMonthView'\nexport * from './components/CalendarEvent'\nexport * from './components/CalendarEventForMonthView'\nexport * from './components/CalendarHeader'\nexport * from './components/CalendarHeaderForMonthView'\nexport * from './components/DefaultCalendarEventRenderer'\n\nexport * from './commonStyles'\nexport * from './interfaces'\nexport * from './theme/ThemeContext'\nexport * from './theme/ThemeInterface'\nexport * from './theme/defaultTheme'\nexport * from './utils/datetime'\nexport * from './utils/object'\nexport * from './utils/react'\n\nexport * from './interfaces'\n"],"names":["React"],"mappings":"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"}